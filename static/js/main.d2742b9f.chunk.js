(this["webpackJsonptoppings-vendor"]=this["webpackJsonptoppings-vendor"]||[]).push([[0],{295:function(e,n,t){},296:function(e,n,t){},297:function(e,n,t){},298:function(e,n,t){},299:function(e,n,t){},300:function(e,n,t){},301:function(e,n,t){},302:function(e,n,t){},303:function(e,n,t){},310:function(e,n){},312:function(e,n){},323:function(e,n){},325:function(e,n){},352:function(e,n){},354:function(e,n){},355:function(e,n){},360:function(e,n){},362:function(e,n){},381:function(e,n){},393:function(e,n){},396:function(e,n){},474:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t(4),a=t(262),s=t.n(a),o=(t(295),t(7)),c=(t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(303),t(22)),l=t(33),d=t(504);function u(){return"undefined"===typeof sessionStorage.user?null:JSON.parse(sessionStorage.user)}function p(e){console.log(e),sessionStorage.setItem("user",JSON.stringify(e))}function h(e){console.log(e),sessionStorage.setItem("unverifiedUser",JSON.stringify(e))}function m(){return"undefined"===typeof sessionStorage.unverifiedUser?null:JSON.parse(sessionStorage.unverifiedUser)}function b(e){sessionStorage.setItem("idToken",e.idToken.jwtToken),sessionStorage.setItem("accessToken",e.accessToken.jwtToken),sessionStorage.setItem("refreshToken",e.refreshToken.token)}function f(){return"undefined"===typeof sessionStorage.page?null:sessionStorage.page}function j(e){sessionStorage.setItem("page",e)}function g(e){sessionStorage.removeItem(e)}var O=t(8),y=t.n(O),v=t(17),x=t(13),T=t(506),A=t(505),w=t(507),N=t(263),I=new T.a({uri:"https://api.toppingsapp.com/graphql"}),S=Object(N.a)(function(){var e=Object(x.a)(y.a.mark((function e(n,t){var r,i,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.headers,i=sessionStorage.idToken,a=sessionStorage.accessToken,e.abrupt("return",{headers:Object(v.a)(Object(v.a)({},r),{},{authorization:i?"".concat(i):"",accessAuthorization:a?"".concat(a):""})});case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),E=new A.a({cache:new w.a({typePolicies:{Query:{fields:{IncomingFriendRequests:{merge:!1},getOutgoingFriendRequest:{merge:!1},getFriendsFriends:{merge:!1}}}}}),link:S.concat(I)}),P=t(106),R=t(265),M=t(266),C=t(20),k=t(53),U=function(){function e(){var n;Object(R.a)(this,e),n={UserPoolId:"us-east-1_BZrR4rdM5",ClientId:"68aj8nbksgd001o2bd00gds65r",endpoint:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_BZrR4rdM5"};var t=new C.g(n);this.userPool=t,this.poolSignUp=Object(k.promisify)(t.signUp).bind(t)}return Object(M.a)(e,[{key:"signUp",value:function(){var e=Object(x.a)(y.a.mark((function e(n,t,r){var i,a,s,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=Object(P.a)(r);try{for(a.s();!(s=a.n()).done;)o=s.value,i.push(new C.f(o))}catch(c){a.e(c)}finally{a.f()}return e.abrupt("return",this.poolSignUp(n,t,i,null));case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"confirmRegistration",value:function(){var e=Object(x.a)(y.a.mark((function e(n,t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.poolUser||(r=new C.e({Username:n,Pool:this.userPool}),this.poolUser=r),this.poolConfirmRegistration||(this.poolConfirmRegistration=Object(k.promisify)(this.poolUser.confirmRegistration).bind(this.poolUser)),e.abrupt("return",this.poolConfirmRegistration(t,!0));case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"authenticateUser",value:function(){var e=Object(x.a)(y.a.mark((function e(n,t){var r,i,a,s=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.poolUser||(r=new C.e({Username:n,Pool:this.userPool}),this.poolUser=r),i=new C.a({Username:n,Password:t}),this.poolAuthenticateUser||(this.poolAuthenticateUser=Object(k.promisify)(this.poolUser.authenticateUser).bind(this.poolUser)),a=function(){var e=Object(x.a)(y.a.mark((function e(n,t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.poolAuthenticateUser(i,{onSuccess:n,onFailure:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),e.abrupt("return",new Promise((function(e,n){a(e,n)})));case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(x.a)(y.a.mark((function e(n,t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.poolChangePassword||(this.poolChangePassword=Object(k.promisify)(this.poolUser.changePassword.bind(this.poolUser))),e.abrupt("return",this.poolChangePassword(n,t));case 2:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"updateUserAttributes",value:function(){var e=Object(x.a)(y.a.mark((function e(n){var t,r,i,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.poolUser),this.poolUpdateUserAttributes||(this.poolUpdateUserAttributes=Object(k.promisify)(this.poolUser.updateAttributes.bind(this.poolUser))),t=[],r=Object(P.a)(n);try{for(r.s();!(i=r.n()).done;)a=i.value,t.push(new C.f(a))}catch(s){r.e(s)}finally{r.f()}return e.abrupt("return",this.poolUpdateUserAttributes(t));case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(x.a)(y.a.mark((function e(){var n,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.userPool.getCurrentUser(),console.log("SGOSI",n),this.poolUser=new C.e({Username:n.username,Pool:this.userPool}),t=Object(k.promisify)(this.poolUser.getSession.bind(this.poolUser)),e.next=6,t();case 6:return e.sent,e.abrupt("return",this.poolUser);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentUserAttributes",value:function(){var e=Object(x.a)(y.a.mark((function e(){var n,t,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.userPool.getCurrentUser(),this.poolUser=new C.e({Username:n.username,Pool:this.userPool}),t=Object(k.promisify)(this.poolUser.getSession.bind(this.poolUser)),e.next=5,t();case 5:return e.sent,r=Object(k.promisify)(this.poolUser.getUserAttributes.bind(this.poolUser)),e.next=9,r();case 9:return i=e.sent,console.log(i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resendConfirmationCode",value:function(){var e=Object(x.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentUser();case 2:return this.poolResendConfirmationCode||(this.poolResendConfirmationCode=Object(k.promisify)(this.poolUser.resendConfirmationCode.bind(this.poolUser))),e.next=5,this.poolResendConfirmationCode();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(x.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentUser();case 2:this.poolUser.signOut();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),D=t.p+"static/media/logo-white.f74b3cfc.png",F=t(65),L=t(508),H={dev:{aws_cognito_identity_pool_id:"us-east-1:774d9e9a-94b1-4380-ad62-a5f56c5f0f77",aws_user_pools_id:"us-east-1_mqU4wOr3S",aws_user_pools_web_client_id:"75e3mq3pape88oe3bbi2bb0fc6",aws_appsync_graphqlEndpoint:"https://j2lz5urxhnej7hy4s6xrrirdoq.appsync-api.us-east-1.amazonaws.com/graphql",aws_dynamodb_table_schemas_tableName:"userdb-dev",aws_user_files_s3_bucket:"images122034-dev"},prod:{aws_cognito_identity_pool_id:"us-east-1:d28b4525-5715-4996-8b46-20d2c6bbd0a4",aws_user_pools_id:"us-east-1_YgvAk1566",aws_user_pools_web_client_id:"5n7lj78gnd8ocj4eu45v4eqjvj",aws_appsync_graphqlEndpoint:"https://mik3xstqlreaxo22eswh3jdlia.appsync-api.us-east-1.amazonaws.com/graphql",aws_dynamodb_table_schemas_tableName:"userdb-prod",aws_user_files_s3_bucket:"images153411-prod"}},B=Object(v.a)({aws_project_region:"us-east-1",aws_cognito_region:"us-east-1",oauth:{},aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_dynamodb_all_tables_region:"us-east-1",aws_dynamodb_table_schemas:[{tableName:H.prod.aws_dynamodb_table_schemas_tableName,region:"us-east-1"}],aws_user_files_s3_bucket_region:"us-east-1"},H.prod),Y=t(19),G=t(509);function q(){var e=Object(Y.a)(["\n  query GetVendor {\n    getVendor {\n      pk\n      sk\n      cognitoId\n      name\n      email\n      phoneNumber\n      restaurant {\n        pk\n        sk\n        name\n        description\n        address\n        lat\n        long\n        phoneNumber\n        ownerId\n        ownerName\n        hours\n        thumbnail\n        menu {\n          name\n          menuItems {\n            name\n            description\n            price\n            points\n            foodOptions {\n              name\n              numChoices\n              options {\n                name\n                price\n                points\n              }\n            }\n          }\n        }\n        rewardItems {\n          name\n          description\n          price\n          points\n          foodOptions {\n            name\n            numChoices\n            options {\n              name\n              price\n              points\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return q=function(){return e},e}function _(){var e=Object(Y.a)(["\n  query GetRestaurant($restaurantId: String!) {\n    getRestaurant(restaurantId: $restaurantId) {\n      pk\n      sk\n      name\n      description\n      address\n      lat\n      long\n      phoneNumber\n      ownerId\n      ownerName\n      hours\n      thumbnail\n      menu {\n        name\n        menuItems {\n          name\n          description\n          price\n          points\n          foodOptions {\n            name\n            numChoices\n            options {\n              name\n              price\n              points\n            }\n          }\n        }\n      }\n      rewardItems {\n        name\n        description\n        price\n        points\n        foodOptions {\n          name\n          numChoices\n          options {\n            name\n            price\n            points\n          }\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}function W(){var e=Object(Y.a)(["\n  query ListRestaurants {\n    listRestaurants {\n      pk\n      sk\n      name\n      description\n      address\n      lat\n      long\n      phoneNumber\n      ownerId\n      ownerName\n      hours\n      thumbnail\n    }\n  }\n"]);return W=function(){return e},e}function V(){var e=Object(Y.a)(["\n  query GetFriends {\n    getFriends {\n      pk\n      sk\n      friends {\n        pk\n        sk\n        phoneNumber\n        name\n        pfp\n        cognitoId\n      }\n    }\n  }\n"]);return V=function(){return e},e}function J(){var e=Object(Y.a)(["\n  query GetOutgoingFriendRequests {\n    getOutgoingFriendRequests {\n      pk\n      sk\n      status\n      user {\n        pk\n        sk\n        phoneNumber\n        name\n        pfp\n        cognitoId\n      }\n    }\n  }\n"]);return J=function(){return e},e}function $(){var e=Object(Y.a)(["\n  query GetFriendsFriends {\n    getFriendsFriends {\n      pk\n      sk\n      name\n      cognitoId\n      phoneNumber\n      pfp\n    }\n  }\n"]);return $=function(){return e},e}function Q(){var e=Object(Y.a)(["\n  query GetIncomingFriendRequests {\n    getIncomingFriendRequests {\n      pk\n      sk\n      status\n      user {\n        pk\n        sk\n        phoneNumber\n        name\n        pfp\n        cognitoId\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function z(){var e=Object(Y.a)(["\n  query GetFeed {\n    getFeed {\n      pk\n      sk\n      createdAt\n      content {\n        ordererName\n        delivererName\n        delivererPfp\n        restaurantName\n        restaurantImage\n      }\n      reactions {\n        reactionType\n        userId\n        name\n      }\n      numComments\n    }\n  }\n"]);return z=function(){return e},e}function X(){var e=Object(Y.a)(["\n  query GetRestaurantByOwner {\n    getRestaurantByOwner {\n      id\n      name\n      description\n      address\n      city\n      state\n      phoneNumber\n      emoji\n      hours {\n        open\n        close\n      }\n      thumbnail\n      averagePickupTime {\n        begin\n        end\n      }\n      rewardItemName\n      rewardItemNames\n      rewardItems {\n        id\n        name\n        description\n        price\n        reward {\n          points\n          discount\n          discountText\n        }\n        numOrders\n        image\n        suspendUntil\n        isAlcohol\n        foodOptions {\n          id\n          name\n          numChoices\n          minChoices\n          required\n          options {\n            id\n            name\n            price\n            points\n            suspendUntil\n          }\n        }\n        taxRate\n        itemChoices {\n          id\n          name\n          description\n          price\n          reward {\n            points\n            discount\n            discountText\n          }\n          numOrders\n          image\n          suspendUntil\n          isAlcohol\n          foodOptions {\n            id\n            name\n            numChoices\n            minChoices\n            required\n            options {\n              id\n              name\n              price\n              points\n              suspendUntil\n            }\n          }\n          taxRate\n        }\n      }\n      discountAmt\n      cashback\n      menu {\n        id\n        name\n        availability {\n          enabled\n          dayOfWeek\n          timePeriods {\n            startTime\n            endTime\n          }\n        }\n        menuItems {\n          id\n          name\n          description\n          price\n          reward {\n            points\n            discount\n            discountText\n          }\n          numOrders\n          image\n          suspendUntil\n          isAlcohol\n          foodOptions {\n            id\n            name\n            numChoices\n            minChoices\n            required\n            options {\n              id\n              name\n              price\n              points\n              suspendUntil\n            }\n          }\n          taxRate\n          itemChoices {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            suspendUntil\n            isAlcohol\n            foodOptions {\n              id\n              name\n              numChoices\n              minChoices\n              required\n              options {\n                id\n                name\n                price\n                points\n                suspendUntil\n              }\n            }\n            taxRate\n          }\n        }\n      }\n    }\n  }\n"]);return X=function(){return e},e}function K(){var e=Object(Y.a)(["\n  query ListOrdersByRestaurant($restaurantId: String!) {\n    listOrdersByRestaurant(restaurantId: $restaurantId) {\n      id\n      party {\n        id\n        estimatedDeliveryTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingTimeWindow {\n          begin\n          end\n        }\n      }\n      items {\n        id\n        menuItemId\n        name\n        priceBeforeDiscount\n        discount\n        price\n        points\n        boughtWithPoints\n        pointsSpent\n        isReward\n        description\n        comment\n        quantity\n        foodOptions {\n          name\n          options {\n            name\n            price\n            points\n          }\n        }\n      }\n      customer {\n        id\n        pfp\n        name\n        phoneNumber\n        username\n      }\n      deliverer {\n        id\n        pfp\n        name\n        phoneNumber\n        username\n      }\n      restaurant {\n        id\n        name\n      }\n      estimatedDeliveryTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingMinutes\n      priceBeforeDiscount\n      priceAfterDiscount\n      discount\n      tax\n      tip\n      totalPrice\n      isPaid\n      status\n      comment\n      orderSentTime\n    }\n  }\n"]);return K=function(){return e},e}function Z(){var e=Object(Y.a)(["\n  query ListPartiesByRestaurant($restaurantId: String!) {\n    listPartiesByRestaurant(restaurantId: $restaurantId) {\n      id\n      windowOpenTime\n      windowCloseTime\n      dropoffLocation\n      isPublic\n      shareLink\n      usersOpenTo {\n        id\n        name\n        pfp\n        username\n        phoneNumber\n      }\n      openTo\n      groupsOpenTo {\n        id\n        name\n        image\n      }\n      isClaimed\n      deliverer {\n        id\n        name\n        pfp\n        username\n        phoneNumber\n      }\n      status\n      notified\n      estimatedDeliveryTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingMinutes\n      restaurantFinishedPreparingTimeWindow {\n        begin\n        end\n      }\n      maxOrders\n      totalCost\n      orders {\n        createdAt\n        id\n        customer {\n          id\n          name\n          pfp\n          phoneNumber\n          username\n        }\n        deliverer {\n          id\n          name\n          pfp\n          phoneNumber\n          username\n        }\n        items {\n          id\n          menuItem {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            foodOptions {\n              name\n              numChoices\n              options {\n                name\n                price\n                points\n              }\n            }\n            taxRate\n          }\n          discount\n          price\n          points\n          comment\n          quantity\n          foodOptions {\n            name\n            options {\n              name\n              price\n              points\n            }\n          }\n        }\n        restaurant {\n          id\n          name\n          thumbnail\n          averagePickupTime {\n            begin\n            end\n          }\n          emoji\n          cashback\n        }\n        estimatedDeliveryTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingMinutes\n        priceBeforeDiscount\n        priceAfterDiscount\n        discount\n        tax\n        tip\n        totalPrice\n        isPaid\n        status\n        comment\n        orderSentTime\n        dropoffLocation\n        claimed\n        createdAt\n      }\n      restaurant {\n        id\n        name\n        thumbnail\n        averagePickupTime {\n          begin\n          end\n        }\n        emoji\n        cashback\n        rewardItems {\n          name\n          description\n          price\n          numOrders\n          image\n          reward {\n            points\n            discount\n            discountText\n          }\n          isAlcohol\n          suspendUntil\n          taxRate\n          id\n          foodOptions {\n            id\n            name\n            numChoices\n            minChoices\n            required\n            options {\n              id\n              name\n              price\n              points\n              suspendUntil\n            }\n          }\n          itemChoices {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            suspendUntil\n            isAlcohol\n            foodOptions {\n              id\n              name\n              numChoices\n              minChoices\n              required\n              options {\n                id\n                name\n                price\n                points\n                suspendUntil\n              }\n            }\n            taxRate\n          }\n        }\n      }\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(Y.a)(["\n  query ListInProgressParties {\n    listInProgressParties {\n      id\n      windowOpenTime\n      windowCloseTime\n      dropoffLocation\n      isPublic\n      shareLink\n      usersOpenTo {\n        id\n        name\n        pfp\n        username\n        phoneNumber\n      }\n      openTo\n      groupsOpenTo {\n        id\n        name\n        image\n      }\n      isClaimed\n      deliverer {\n        id\n        name\n        pfp\n        username\n        phoneNumber\n      }\n      status\n      notified\n      estimatedDeliveryTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingMinutes\n      restaurantFinishedPreparingTimeWindow {\n        begin\n        end\n      }\n      maxOrders\n      totalCost\n      orders {\n        createdAt\n        id\n        customer {\n          id\n          name\n          pfp\n          phoneNumber\n          username\n        }\n        deliverer {\n          id\n          name\n          pfp\n          phoneNumber\n          username\n        }\n        items {\n          id\n          menuItem {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            foodOptions {\n              name\n              numChoices\n              options {\n                name\n                price\n                points\n              }\n            }\n            taxRate\n          }\n          discount\n          price\n          points\n          comment\n          quantity\n          foodOptions {\n            name\n            options {\n              name\n              price\n              points\n            }\n          }\n        }\n        restaurant {\n          id\n          name\n          thumbnail\n          averagePickupTime {\n            begin\n            end\n          }\n          emoji\n          cashback\n        }\n        estimatedDeliveryTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingMinutes\n        priceBeforeDiscount\n        priceAfterDiscount\n        discount\n        tax\n        tip\n        totalPrice\n        isPaid\n        status\n        comment\n        orderSentTime\n        dropoffLocation\n        claimed\n        createdAt\n      }\n      restaurant {\n        id\n        name\n        thumbnail\n        averagePickupTime {\n          begin\n          end\n        }\n        emoji\n        cashback\n        rewardItems {\n          name\n          description\n          price\n          numOrders\n          image\n          reward {\n            points\n            discount\n            discountText\n          }\n          isAlcohol\n          suspendUntil\n          taxRate\n          id\n          foodOptions {\n            id\n            name\n            numChoices\n            minChoices\n            required\n            options {\n              id\n              name\n              price\n              points\n              suspendUntil\n            }\n          }\n          itemChoices {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            suspendUntil\n            isAlcohol\n            foodOptions {\n              id\n              name\n              numChoices\n              minChoices\n              required\n              options {\n                id\n                name\n                price\n                points\n                suspendUntil\n              }\n            }\n            taxRate\n          }\n        }\n      }\n    }\n  }\n"]);return ee=function(){return e},e}var ne=Object(G.a)(ee()),te=Object(G.a)(Z()),re=(Object(G.a)(K()),Object(G.a)(X())),ie="\n  query GetVendorRewards($menuId: ID!) {\n    getVendorRewards(menuId: $menuId) {\n      date_active_from\n      date_active_to\n      description\n      discountAmount\n      discountPercentage\n      id\n      itemName\n      menuId\n      points\n    }\n  }\n",ae=(Object(G.a)(z()),Object(G.a)(Q()),Object(G.a)($()),Object(G.a)(J()),Object(G.a)(V()),Object(G.a)(W()),Object(G.a)(_()),Object(G.a)(q()),t.p+"static/media/dashboard-design.b466fc61.PNG");var se=function(e){return Object(r.jsx)("article",{className:"portal-dashboard-container",children:Object(r.jsx)("img",{src:ae})})},oe=t(84),ce=t.n(oe),le=function(e,n){var t=Object(i.useRef)();Object(i.useEffect)((function(){t.current=e}),[e]),Object(i.useEffect)((function(){if(null!==n){var e=setInterval((function(){t.current()}),n);return function(){return clearInterval(e)}}}),[n])};function de(){var e=Object(Y.a)(["\n  mutation UpdateReferralCode($referralCode: String!) {\n    updateReferralCode(referralCode: $referralCode) {\n      pk\n      sk\n      cognitoId\n      name\n      referrer {\n        pk\n        sk\n        name\n        cognitoId\n      }\n    }\n  }\n"]);return de=function(){return e},e}function ue(){var e=Object(Y.a)(["\n  mutation UpdateUserAttributes($name: String!) {\n    updateUserAttributes(name: $name) {\n      pk\n      sk\n      name\n    }\n  }\n"]);return ue=function(){return e},e}function pe(){var e=Object(Y.a)(["\n  mutation DeleteFriend($deleteId: String!) {\n    deleteFriend(deleteId: $deleteId) {\n      pk\n      sk\n      friends {\n        pk\n        sk\n        pfp\n        name\n        phoneNumber\n        cognitoId\n      }\n    }\n  }\n"]);return pe=function(){return e},e}function he(){var e=Object(Y.a)(["\n  mutation CreateFriendRequest($userId: String!) {\n    createFriendRequest(userId: $userId) {\n      pk\n      sk\n      status\n      user {\n        pk\n        sk\n        name\n        pfp\n        cognitoId\n        phoneNumber\n      }\n    }\n  }\n"]);return he=function(){return e},e}function me(){var e=Object(Y.a)(["\n  mutation DeclineFriendRequest($senderId: String!) {\n    declineFriendRequest(senderId: $senderId) {\n      pk\n      sk\n      status\n      user {\n        pk\n        sk\n        phoneNumber\n        name\n        pfp\n        cognitoId\n      }\n    }\n  }\n"]);return me=function(){return e},e}function be(){var e=Object(Y.a)(["\n  mutation AcceptFriendRequest($senderId: String!) {\n    acceptFriendRequest(senderId: $senderId) {\n      pk\n      sk\n      friends {\n        pk\n        sk\n        pfp\n        name\n        phoneNumber\n        cognitoId\n      }\n    }\n  }\n"]);return be=function(){return e},e}function fe(){var e=Object(Y.a)(["\n  mutation LikeFeedItem($feedItemPk: String!, $feedItemSk: String!) {\n    likeFeedItem(feedItemPk: $feedItemPk, feedItemSk: $feedItemSk) {\n      pk\n      sk\n      createdAt\n      content {\n        ordererName\n        delivererName\n        delivererPfp\n        restaurantName\n        restaurantImage\n      }\n      reactions {\n        reactionType\n        userId\n      }\n      numComments\n    }\n  }\n"]);return fe=function(){return e},e}function je(){var e=Object(Y.a)(["\n  mutation UpdateRestaurant($id: String!, $input: UpdateRestaurantInput!) {\n    updateRestaurant(id: $id, input: $input) {\n      pk\n      sk\n      name\n      description\n      address\n      lat\n      long\n      phoneNumber\n      ownerId\n      ownerName\n      hours\n      thumbnail\n      menu {\n        name\n        menuItems {\n          name\n          description\n          price\n          points\n          foodOptions {\n            name\n            numChoices\n            options {\n              name\n              price\n              points\n            }\n          }\n        }\n      }\n      rewardItems {\n        name\n        description\n        price\n        points\n        foodOptions {\n          name\n          numChoices\n          options {\n            name\n            price\n            points\n          }\n        }\n      }\n    }\n  }\n"]);return je=function(){return e},e}function ge(){var e=Object(Y.a)(["\n  mutation UpdateOrderETA($orderId: String!, $partyId: String!, $orderFinishedPreparingMinutes: Int!) {\n    updateOrderETA(orderId: $orderId, partyId: $partyId, orderFinishedPreparingMinutes: $orderFinishedPreparingMinutes) {\n      id\n      party {\n        id\n        estimatedDeliveryTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingTimeWindow {\n          begin\n          end\n        } \n      }\n      estimatedDeliveryTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingMinutes\n    }\n  }\n"]);return ge=function(){return e},e}function Oe(){var e=Object(Y.a)(["\n  mutation updatePartyETA($partyId: String!, $partyFinishedPreparingMinutes: Int!) {\n    updatePartyETA(partyId: $partyId, partyFinishedPreparingMinutes: $partyFinishedPreparingMinutes) {\n      id\n      estimatedDeliveryTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingTimeWindow {\n        begin\n        end\n      }\n      restaurantFinishedPreparingMinutes\n      orders {\n        id\n        estimatedDeliveryTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingTimeWindow {\n          begin\n          end\n        }\n        restaurantFinishedPreparingMinutes\n      }\n    }\n  }\n"]);return Oe=function(){return e},e}function ye(){var e=Object(Y.a)(["\n  mutation CreateRestaurantOwner($restaurantId: String!, $email: String!) {\n    createRestaurantOwner(restaurantId: $restaurantId, email: $email) {\n      id\n      name\n      description\n      address\n      city\n      state\n      phoneNumber\n      emoji\n      hours {\n        open\n        close\n      }\n      thumbnail\n      averagePickupTime {\n        begin\n        end\n      }\n      menu {\n        name\n        menuItems {\n          id\n          name\n          description\n          price\n          reward {\n            points\n            discount\n            discountText\n          }\n          numOrders\n          image\n          foodOptions {\n            name\n            numChoices\n            options {\n              name\n              price\n              points\n            }\n          }\n          itemChoices {\n            id\n            name\n            description\n            price\n            reward {\n              points\n              discount\n              discountText\n            }\n            numOrders\n            image\n            foodOptions {\n              name\n              numChoices\n              options {\n                name\n                price\n                points\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ye=function(){return e},e}var ve=Object(G.a)(ye()),xe=Object(G.a)(Oe()),Te=(Object(G.a)(ge()),"\n  mutation CreateVendorReward($menuId: ID!, $itemName: String!, $points: Int!, $date_active_from: AWSDate, $date_active_to: AWSDate, $discountAmount: Float, $discountPercentage: Float, $description: $String!) {\n    createVendorReward(menuId: $menuId, itemName: $itemName, points: $points, date_active_from: $date_active_from, date_active_to: $date_active_to, discountAmount: $discountAmount, discountPercentage: $discountPercentage, description: $description) {\n      id\n      itemName\n      menuId\n      points\n      date_active_from\n      date_active_to\n      discountAmount\n      discountPercentage\n      description\n      createdAt\n      updatedAt\n    }\n  }\n"),Ae="\n  mutation UpdateVendorReward($menuId: ID!, $id: ID!, $itemName: String!, $points: Int!, $description: String!) {\n    updateVendorReward(menuId: $menuId, id: $id, itemName: $itemName, points: $points, description: $description) {\n      id\n      menuId\n      itemName\n      points\n      description\n      updatedAt\n    }\n  }\n",we="\n  mutation DeleteVendorReward($id: ID!) {\n    deleteVendorReward(id: $id) {\n      id\n    }\n  }\n",Ne=Object(G.a)(je()),Ie=(Object(G.a)(fe()),Object(G.a)(be()),Object(G.a)(me()),Object(G.a)(he()),Object(G.a)(pe()),Object(G.a)(ue()),Object(G.a)(de()),t.p+"static/media/bubble-icon-1.59b54bba.svg"),Se=t.p+"static/media/bubble-icon-2.7af7e509.svg",Ee=(t.p,t.p,t.p+"static/media/ding.8e0939ed.mp3"),Pe=t(511);ce()().format();var Re=function(e){var n=e.party,t=e.selectedOrder,a=e.setSelectedOrder,s=e.selectedRun,c=e.setSelectedRun,l=e.assembleSelectedRun,d=e.isAll,u=!!n.restaurantFinishedPreparingMinutes,p=Object(i.useState)(!0),h=Object(o.a)(p,2),m=h[0];return h[1],Object(r.jsxs)("div",{className:"party-orders-container",onClick:function(e){e.preventDefault(),console.log("SKDGJH"),l(n),a(null)},children:[Object(r.jsxs)("div",{className:"group-name-container",children:[u?Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAA2CAYAAAA4T5zSAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7dzbbRpBGIbhmYECXAIlJA0Qu4OUQAdGIEQNICFtCy4hFcS54D4dhBJ8G4lD5rVAjg14T3P4h51HsgEbFul7LXm5Wa2OxuPxXb/ff7R3749f+G2MKZbL5ZPKaqm6p+bbfD4fbLfbn1rrwaWDHQ6HjT3Yw2Kx2KisVJ09XwNMp9M/15586UUqu6ps/BP23O12X3uz2WxkH49UCXvAu/1+/304HP5Yr9cvKjtTdXywp/36a2yJR1URB+YNeCOVvVNn/BP73G/G3n5RNeQI55qMf3RvVAM5wpsW478iwLNqIEdoP77itNT+D/ilGupyBAfjcyZUGHsqVHBKpBrqYgRH429Wq9WTKYrixUZ4yBGqcTU+m3Nfn35oPzoPer1e6wPf8oc1l+PbP/wNj/X/v8wRrvMxPvTHJ+UI53yND33pyTnCG5/jQ197UY7gf3zoz17c5QghxocuOUYnI4QaH6UB0KUIIcdHpQDoQoTQ46NyANxyhBjjo1YA3GKEWOOjdgDcUoSY46NRANxChNjjo3EApBxBwvhoFQApRpAyPloHQEoRJI0PJwGQQgRp48NZAEiOIHF8OA0AiRGkjg/nASApguTx4SUAJESQPj68BUDMCCmMD68BECNCKuPDewCEjJDS+AgSACEipDY+ggWAzwgpjo+gAeAjQqrjI3gAuIzA/VTHR5QAcBWB21THR7QAcBGhjdjjI2oAxIogYXxED4DQEaSMDxEBECqCpPEhJgB8R5A2PkQFgK8IEseHuABwHUHq+BAZAK4iSB4fYgOgbQTp40N0ADSNkML4EB8AdSOkMj6SCICqEVIaH8kEQFmE1MZHUgFOJpPJyBjDhaZO1zp65qIjXPeCSy+ohPwDtXgVsjUHP5kAAAAASUVORK5CYII=",className:"down-arrow-button",alt:"Click to expand viewed group",width:"28px",height:"14px"}):Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAA2CAYAAAA4T5zSAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJeSURBVHgB7Zz/TcMwEIXPmYAROgJMAGzCBmUBpIoJugKTQDfoBnQEJiD4Nc0/QJvEse/epf4kpApM7Htff9iN5SA9m/ZGGllLKw8S4g9oZR9/t5WX8CaVaYzMM5war+If3uOj1ZnLHeRbHmUTDlIZZkKenYDX9vNC4z//JJXzDIffgzzvmhj+04jGcmyDC6ODyv+MD1+ObYI8N/HBWsZTJZxjWvg99xBwK9OoEn6TFj4+gR8aSaNK6EkN/0QTp0YfkkaVMDP8yB6vgJ2kc70S5oePt6AtXgFbwZQoneuTkCN8ZB4XZE2c138d5/dVwjhyhd9lfloJ577wUhdrBTIKpTtYDIWyCVoduaZgJkG7Q3cUziKIUccuUMggiPEAaFGq/bIAxYFQoVjzsADlAZmjXOs4ASLXIcGgxvECwJIlGNU2TQBYogTDmqYLAEuSYFxLmgCwBAkENaQLAJ4lkIx9ngDgUQLRmOcLAJ4kkI01jwDgQQLhGPMJAMwSSMeWVwBgLJT4iZFfAGAqmPytsYwAwFC4g8+lcgKAZQBOZmZlBQCLIBxNi8sLAJqBOFsY6ggAGsE4XJXrCQAlA3L6vZSuAFAiKKfhA30BIGdgwPHX4jYCQC4JHStJx/SehJ0AkEfCHMzvytkKAHYSKG6J2gsA+hJoNgVwCAB6Eqh2ZPAIAOUl0O1J4hIAykmg3BDGJwDkl0C7JZJTAMgngTZ8wCsAzJdAHT7gFgDSJdCHD/gFgOkSXIQPfAgA4yW4CR/4EQCGJbgKH/gS0INTvlpZx9F3Zx11J77sjude4OgFR/wA9w0Jm3F3/W8AAAAASUVORK5CYII=",className:"down-arrow-button",alt:"Click to expand unviewed group",width:"28px",height:"14px"}),Object(r.jsxs)("span",{className:u?"viewed":void 0,style:(null===s||void 0===s?void 0:s.id)===n.id?{fontWeight:900}:{fontWeight:500},children:[n.deliverer.name,"'s Group ",d?"at ".concat(n.restaurant.name):""]})]}),m&&Object(r.jsx)("div",{className:"party-orders-list",children:n.orders.map((function(e){return Object(r.jsx)("span",{className:e.restaurantFinishedPreparingTimeWindow?"viewed":void 0,style:(null===t||void 0===t?void 0:t.id)===e.id?{fontWeight:900}:{fontWeight:500},onClick:function(n){return function(e,n){console.log(e),e.stopPropagation(),c(null),a(n)}(n,e)},children:e.customer.name},e.id)}))})]})};ce()().format();var Me=function(e){var n=e.restaurant;console.log("\ud83e\udd2c");var t=u();console.log(t);var a=new Audio(Ee),s=Object(i.useState)(!1),c=Object(o.a)(s,2),l=(c[0],c[1],Object(i.useState)(null)),d=Object(o.a)(l,2),p=d[0],h=d[1],m=Object(i.useState)(null),b=Object(o.a)(m,2),f=b[0],j=b[1],g=Object(i.useState)(!0),O=Object(o.a)(g,2),y=(O[0],O[1],Object(i.useState)(!1)),x=Object(o.a)(y,2),T=(x[0],x[1],function(e){var n,t="".concat(e.menuItem.name);if((null===(n=e.foodOptions)||void 0===n?void 0:n.length)>0){var r=[];e.foodOptions.map((function(e){e.options.map((function(e){return r.push(e.name)}))})),t+=r.sort().join(",")}return t}),A=function(e){var n=[],t=0,r=0,i=0;e.orders.map((function(e){e.items.map((function(e){var t=n.findIndex((function(n){return T(n)===T(e)}));-1===t?n.push(JSON.parse(JSON.stringify(e))):n[t].quantity+=e.quantity})),t+=e.tax,r+=e.tip,i+=e.totalPrice})),j(Object(v.a)(Object(v.a)({},e),{},{orderItems:n,totalTax:t,totalTip:r,totalTotal:i}))},w=Object(L.a)(te,{variables:{restaurantId:null===n||void 0===n?void 0:n.id},skip:!(null===n||void 0===n?void 0:n.id),pollInterval:6e4}),N=w.data,I=w.loading,S=(w.error,Object(L.a)(ne,{skip:"all@gmail.com"!==t.username,pollInterval:6e4})),E=S.data,R=(S.loading,S.error,Object(Pe.a)(xe,{onCompleted:function(e){var n=JSON.parse(JSON.stringify(e.updatePartyETA)),t=JSON.parse(JSON.stringify(f));(null===f||void 0===f?void 0:f.id)===n.id&&(console.log(Object(v.a)(Object(v.a)({},t),n)),j(Object(v.a)(Object(v.a)({},t),n)))}})),M=Object(o.a)(R,2),C=M[0],k=(M[1].error,[]),U=!1;if((null===N||void 0===N?void 0:N.listPartiesByRestaurant)||(null===E||void 0===E?void 0:E.listInProgressParties)){var D=null===N||void 0===N?void 0:N.listPartiesByRestaurant;(null===E||void 0===E?void 0:E.listInProgressParties)&&(D=E.listInProgressParties),k=JSON.parse(JSON.stringify(D)),U=!1;var F,H=Object(P.a)(k);try{for(H.s();!(F=H.n()).done;){if(!F.value.restaurantFinishedPreparingMinutes){U=!0;break}}}catch(B){H.e(B)}finally{H.f()}k=k.sort((function(e,n){return e.restaurantFinishedPreparingMinutes&&!n.restaurantFinishedPreparingMinutes?1:!e.restaurantFinishedPreparingMinutes&&n.restaurantFinishedPreparingMinutes?-1:0}))}return le((function(){a.play()}),U?5e3:null),Object(r.jsx)("article",{className:"portal-orders-container",children:I?Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Ie}),Object(r.jsx)("span",{className:"subheading",children:"Loading..."})]})}):Object(r.jsx)("div",{children:k.length>0?Object(r.jsxs)("div",{className:"portal-orders-subcontainer",children:[Object(r.jsx)("div",{className:"orders-list",children:Object(r.jsx)("div",{children:k.map((function(e){return Object(r.jsx)(Re,{party:e,selectedOrder:p,setSelectedOrder:h,selectedRun:f,setSelectedRun:j,assembleSelectedRun:A,isAll:"all@gmail.com"===t.username},e.id)}))})}),!p&&!f&&Object(r.jsx)("div",{className:"selected-order-container",children:Object(r.jsxs)("p",{className:"click-order-text",children:["Click on a group to view all orders in the group",Object(r.jsx)("br",{}),"OR",Object(r.jsx)("br",{}),"Click on an order in a group to view that order"]})}),f&&Object(r.jsxs)("div",{className:"selected-order-container",children:[Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsxs)("span",{className:"orderer-name",children:[f.deliverer.name,"'s (",f.deliverer.phoneNumber,") Group ","all@gmail.com"===t.username?"at ".concat(f.restaurant.name):""]}),Object(r.jsx)("span",{className:"order-date",children:ce()(f.orders[0].orderSentTime).format("MM/DD/YY hh:mmA")})]}),Object(r.jsx)("hr",{className:"divider"}),f.orderItems.map((function(e){return Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsxs)("span",{className:"item-name",children:[e.quantity>1&&"".concat(e.quantity,"x "),e.menuItem.name]}),e.foodOptions.map((function(e){return e.options.map((function(e){return Object(r.jsx)("span",{className:"item-option-name",children:e.name})}))})),Object(r.jsx)("span",{className:"item-option-name",children:e.comment})]}),Object(r.jsx)("span",{className:"item-price",children:(e.quantity*e.price/100).toFixed(2)})]},e.id)})),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name-gray",children:"Tax"}),Object(r.jsx)("span",{className:"item-price-gray",children:(f.totalTax/100).toFixed(2)})]}),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name-gray",children:"Tip"}),Object(r.jsx)("span",{className:"item-price-gray",children:(f.totalTip/100).toFixed(2)})]}),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name",children:"Total"}),Object(r.jsxs)("span",{className:"item-price",children:["$",(f.totalTotal/100).toFixed(2)]})]}),Object(r.jsx)("hr",{className:"divider"}),Object(r.jsx)("span",{className:"item-name-left",children:"Order Time (min)"}),Object(r.jsx)("span",{className:"item-name-left-small",children:"Click a button to select"}),f.restaurantFinishedPreparingMinutes?Object(r.jsxs)("span",{className:"item-name-center-big",children:["You have selected ",f.restaurantFinishedPreparingMinutes," minutes."]}):Object(r.jsx)("div",{className:"time-container",children:[10,15,20,25,30,45,60,75].map((function(e,n){return Object(r.jsx)("div",{className:0===n||7===n?0===n?"left":"right":void 0,onClick:function(){return n=e,void C({variables:{partyId:f.id,partyFinishedPreparingMinutes:n}});var n},children:Object(r.jsx)("span",{children:e})},e)}))})]}),p&&Object(r.jsxs)("div",{className:"selected-order-container",children:[Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsxs)("span",{className:"orderer-name",children:[p.customer.name," (",p.customer.phoneNumber,")  ","all@gmail.com"===t.username?"at ".concat(p.restaurant.name):""]}),Object(r.jsx)("span",{className:"order-date",children:ce()(p.orderSentTime).format("MM/DD/YY hh:mmA")})]}),Object(r.jsx)("hr",{className:"divider"}),p.items.map((function(e){return Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsxs)("span",{className:"item-name",children:[e.quantity>1&&"".concat(e.quantity,"x "),e.menuItem.name]}),e.foodOptions.map((function(e){return e.options.map((function(e){return Object(r.jsx)("span",{className:"item-option-name",children:e.name})}))})),Object(r.jsx)("span",{className:"item-option-name",children:e.comment})]}),Object(r.jsx)("span",{className:"item-price",children:(e.quantity*e.price/100).toFixed(2)})]},e.id)})),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name-gray",children:"Tax"}),Object(r.jsx)("span",{className:"item-price-gray",children:(p.tax/100).toFixed(2)})]}),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name-gray",children:"Tip"}),Object(r.jsx)("span",{className:"item-price-gray",children:(p.tip/100).toFixed(2)})]}),Object(r.jsxs)("div",{className:"split-row",children:[Object(r.jsx)("span",{className:"item-name",children:"Total"}),Object(r.jsxs)("span",{className:"item-price",children:["$",(p.totalPrice/100).toFixed(2)]})]})]})]}):Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Se}),Object(r.jsx)("span",{className:"subheading",children:"You have no active orders."}),Object(r.jsxs)("b",{children:["Orders placed through the Toppings app today ",Object(r.jsx)("br",{})," will appear here."]})]})})})};var Ce=function(e){return Object(r.jsxs)("article",{className:"portal-terms-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"heading",children:"Terms of Service"})}),Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)("div",{className:"terms-of-service-container",children:[Object(r.jsx)("p",{children:Object(r.jsx)("b",{children:'BEFORE YOU USE THE TOPPINGS MARKETPLACE, CAVIAR MARKETPLACE, AND/OR TOPPINGS PORTAL ("PLATFORM") PLEASE READ THESE TERMS CAREFULLY. BY EXECUTING THE SIGN-UP SHEET WITH TOPPINGS OR USING THE PLATFORM, YOU, ANY ENTITIES THAT YOU REPRESENT AND ALL OF YOUR PARTICIPATING STORE LOCATIONS ("YOU" OR "MERCHANT") AGREE TO BE BOUND BY THESE TERMS IN ADDITION TO THE TERMS ON YOUR SIGN-UP SHEET. SECTION 19 OF THIS AGREEMENT CONTAINS PROVISIONS THAT GOVERN HOW CLAIMS THAT YOU AND WE HAVE AGAINST EACH OTHER ARE RESOLVED, INCLUDING, WITHOUT LIMITATION, ANY CLAIMS THAT AROSE OR WERE ASSERTED BEFORE THE EFFECTIVE DATE OF THIS AGREEMENT. IN PARTICULAR, SECTION 19 SETS FORTH OUR ARBITRATION AGREEMENT WHICH WILL, WITH LIMITED EXCEPTIONS, REQUIRE DISPUTES BETWEEN US TO BE SUBMITTED TO BINDING AND FINAL ARBITRATION. UNLESS YOU OPT OUT OF THE ARBITRATION AGREEMENT: (1) YOU WILL ONLY BE PERMITTED TO PURSUE CLAIMS AND SEEK RELIEF AGAINST US ON AN INDIVIDUAL BASIS, NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY CLASS OR REPRESENTATIVE ACTION OR PROCEEDING; AND (2) YOU ARE WAIVING YOUR RIGHT TO SEEK RELIEF IN A COURT OF LAW AND TO HAVE A JURY TRIAL ON YOUR CLAIMS. THE ARBITRATION AGREEMENT COULD AFFECT YOUR RIGHT TO PARTICIPATE IN PENDING PROPOSED CLASS ACTION LITIGATION. PLEASE SEE SECTION 19 FOR MORE INFORMATION REGARDING THIS ARBITRATION AGREEMENT, THE POSSIBLE EFFECTS OF THIS ARBITRATION AGREEMENT, AND HOW TO OPT OUT OF THE ARBITRATION AGREEMENT.'})}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Definitions."}),Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"\u201cTopper\u201d means independent third-party delivery contractor."}),Object(r.jsx)("li",{children:"\u201cDelivery API\u201d means the Toppings application programming interface (API) that allows the Merchant to exchange information with Toppings."}),Object(r.jsx)("li",{children:"\u201cToppings Data\u201d shall mean any information that Toppings provides or makes accessible to Merchant through the Toppings Platform, including without limitation Personal Information."}),Object(r.jsx)("li",{children:"\u201cCustomer\u201d means the customer who places an order for Merchant Products through the Toppings Platform or Toppings Portal."}),Object(r.jsx)("li",{children:"\u201cToppings Marketplace\u201d means Toppings\u2019 proprietary online communication platform where Customers can view and search for the menus of Merchants and/or place an order for Merchant Products via the Toppings website or mobile application for delivery by a Topper to the Customer or for pickup by Customer."}),Object(r.jsx)("li",{children:"\u201cToppings Platform\u201d means Toppings Marketplace or Toppings App."}),Object(r.jsx)("li",{children:"\u201cToppings Portal\u201d means the platform that enables delivery fulfillment for orders placed directly with the Merchant by the Customer."}),Object(r.jsx)("li",{children:"\u201cToppings Services\u201d means Toppings Platform and, Toppings Portal, as applicable."}),Object(r.jsx)("li",{children:"\u201cPortal Orders\u201d means orders placed by Merchant for delivery fulfilment by Toppings."}),Object(r.jsx)("li",{children:"\u201cPortal Term\u201d means the term of the agreement between Toppings and Merchant for Toppings Portal."}),Object(r.jsx)("li",{children:"\u201cMarketplace Orders\u201d means orders for Merchant Products through the Toppings Platform from Customers for delivery by Toppers."}),Object(r.jsx)("li",{children:"\u201cMerchant\u201d means the restaurant or other entity that has agreed to participate in the Toppings Services."}),Object(r.jsx)("li",{children:'"Merchant Portal" is an online website, accessible at https:toppingsapp.com through which Merchant may and regularly should review and confirm its transactions, fees and charges and account on the Platform.'}),Object(r.jsx)("li",{children:"\u201cMerchant Products\u201d includes all products offered for take-out or delivery orders at Merchant Stores."}),Object(r.jsx)("li",{children:"\u201cMerchant Stores\u201d means the Merchant restaurant locations that participate in the Toppings Services and includes: (i) Merchant Stores owned and operated by Merchant or its affiliates, and/or (ii) Merchant Stores owned and operated by Franchisees of Merchant or its affiliates."}),Object(r.jsx)("li",{children:"\u201cMarketplace Term\u201d means the term of the agreement between Toppings and Merchant for the Toppings Platform."}),Object(r.jsx)("li",{children:"\u201cOrder\u201d means a Marketplace Order or a Portal Order, as applicable."}),Object(r.jsx)("li",{children:"\u201cOrder Equipment\u201d means and includes any equipment reasonably required by Toppings for Merchant to receive and process Orders, including, without limitation, a tablet, fax machine, or other automated, electronic means of receiving Orders."}),Object(r.jsx)("li",{children:"\u201cPersonal Information\u201d shall mean any information exchanged under this Agreement that (i) identifies or can be used to identify an individual (including without limitation, names, telephone numbers, addresses, signatures, email addresses or other unique identifiers); or (ii) that can reasonably be used to authenticate an individual (including without limitation, name, contact information, precise location information, access credentials, persistent identifiers and any information that may be considered \u2018personal data\u2019 or \u2018personal information\u2019 under applicable law)."}),Object(r.jsx)("li",{children:"\u201cCommission Rate\u201d means the commission fees collected by Toppings in exchange for promoting and featuring the Merchant and Merchant Store(s) on the Toppings Platform, which is charged as a percentage of revenues transacted on the Toppings Platform."}),Object(r.jsx)("li",{children:"\u201cSchedule for Later Order\u201d shall mean an Order to be fulfilled at a particular time later in the same day or at a later date."}),Object(r.jsx)("li",{children:"\u201cTerms\u201d means the provisions herein."}),Object(r.jsx)("li",{children:"\u201cThird Party Platform\u201d means a technology interface, such as a middleware technology platform, other than the online order form and the Delivery API that enables Merchant to request delivery fulfillment and provide information necessary to enable such delivery fulfillment."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"The Parties' Relationship."}),' Toppings provides an online marketplace platform using web-based technology that connects Merchants, independent delivery contractors ("Toppers") and Customers ("Platform"), as described in these Terms for Toppings Platform and Toppings Portal. Toppings is not a merchant, seller of goods, or delivery service; it is an online connection platform. Merchant and Toppings agree they are independent businesses whose relationship is governed by the Sign-Up Sheet and these Terms. Nothing in the Parties\' agreements, relationship or transactions shall create or be construed as creating an agency, partnership, fiduciary or joint venture relationship between Toppings and Merchant (or Merchant\'s employees, representatives or locations), Toppings and Topper, or Toppings and Customers. Except as expressly set forth in the Sign-Up Sheet and these Terms, each Party shall be responsible for its own expenses, profits and losses.']}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Toppings Platform Core Responsibilities."})," . For Merchants that have agreed to participate in the Toppings Platform, Toppings and Merchant shall have the following responsibilities during the Marketplace Term:",Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsxs)("li",{children:["Toppings Core Responsibilities. Toppings will, in a timely manner:",Object(r.jsxs)("ol",{type:"i",children:[Object(r.jsx)("li",{children:"Display Merchant\u2019s logo; a listing of the Merchant Stores; and a menu of Merchant Products on the Toppings Platform;"}),Object(r.jsx)("li",{children:"Accept Marketplace Orders from Customers;"}),Object(r.jsx)("li",{children:"Forward each Marketplace Order to the relevant Merchant Store; and"}),Object(r.jsx)("li",{children:"Forward each Marketplace Order to a Topper, so that the Topper can pick up the applicable Merchant Product(s) from the Merchant Store to deliver to the Customer."}),Object(r.jsx)("li",{children:"Pay the Merchant in accord with the Parties' agreements, deduct the applicable Commission Rate, marketing fees (for identifiable orders), subscription fees,  Activation Fees, and any other fees (in each case, as may be adjusted by Toppings as required by any applicable statute, regulation, executive order, or other legal requirement that is either temporary or permanent in nature)."})]})]}),Object(r.jsxs)("li",{children:["Merchant Core Responsibilities. Merchant will, in a timely manner:",Object(r.jsxs)("ol",{type:"i",children:[Object(r.jsx)("li",{children:"Provide Toppings with the Merchant\u2019s in-store or take-out menu, including the price of each item on such menu;"}),Object(r.jsx)("li",{children:"Monitor Merchant\u2019s menu and store information on the Toppings Platform, promptly make updates via the Merchant Portal to reflect the most up-to-date products, pricing and other information or immediately notify Toppings of any errors or changes in writing;"}),Object(r.jsx)("li",{children:"Accept all Marketplace Orders placed by Toppings from Merchant\u2019s then-current menu;"}),Object(r.jsx)("li",{children:"Confirm all Marketplace Orders from Toppings;"}),Object(r.jsx)("li",{children:"Prepare the Merchant Products for each Marketplace Order for pickup by a Topper at the designated time;"}),Object(r.jsx)("li",{children:"Process Marketplace Orders in the order in which they are received;"}),Object(r.jsx)("li",{children:"Notify Toppings of any changes to the pricing, availability, description, or other characteristics of the Merchant Products;"}),Object(r.jsx)("li",{children:"Notify Toppings of its days and hours of operation, and remain open for business on Toppings the same days and hours of operation as Merchant\u2019s in-store business; notify Toppings of any changes to Merchant\u2019s hours of operations on holidays; and notify Toppings if Merchant closes earlier than Merchant\u2019s standard hours of operation or plans to close earlier than Merchant\u2019s standard hours of operation;"}),Object(r.jsx)("li",{children:"Notify all Merchant store staff members of the relationship with Toppings immediately upon execution of this Agreement;"}),Object(r.jsx)("li",{children:"Provide the same utensils, napkins, bags and other materials that Merchant would typically provide in a standard take-out or delivery order, subject to Section 15(3)(i);"}),Object(r.jsx)("li",{children:"On an ongoing basis, review and confirm the transactions, fees and charges on orders via the Merchant Portal, and promptly communicate to Toppings any inaccuracies; and"}),Object(r.jsx)("li",{children:"If Toppings collects and passes tips from Customers to Merchant, Merchant will distribute such tips in accordance with applicable law, including but not limited to tip pooling laws."})]})]})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Toppings Portal Core Responsibilities."})," For Merchants that have agreed to participate in Toppings Portal, Toppings and Merchant shall have the following responsibilities during the Portal Term:",Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsxs)("li",{children:["Toppings Core Responsibilities. Toppings will, in a timely manner:",Object(r.jsxs)("ol",{type:"i",children:[Object(r.jsx)("li",{children:"Provide Merchant with an online order form or access to the Delivery API to submit requests for deliveries, or receive information through a Third Party Platform;"}),Object(r.jsx)("li",{children:"Forward requests to a Topper, so that the Topper can pick up the applicable Merchant Product(s) from the Merchant Store to deliver to the Customer."})]})]}),Object(r.jsxs)("li",{children:["Merchant Core Responsibilities. Merchant will:",Object(r.jsxs)("ol",{type:"i",children:[Object(r.jsx)("li",{children:"Via the online order form, the Delivery API, or a Third Party Platform, provide information requested by Toppings including the Customer\u2019s address, contact information, and any special instructions required for delivery; "}),Object(r.jsx)("li",{children:"Accept and collect payments from Customers for their respective orders;"}),Object(r.jsx)("li",{children:"Notify Customers prior to placing a Portal Order that their telephone numbers and other personal contact information will be shared with Toppings to enable deliveries to be made by Toppers and, in connection with the applicable deliveries, request the Customer\u2019s consent to receive delivery status updates by e-mail, text messages, and telephone calls from Toppings and Toppers;"}),Object(r.jsx)("li",{children:"Notify Toppings if a Customer has not consented to receive delivery updates or has placed any restrictions on types of delivery updates such Customer consents to receive (e.g., no texts). Merchant hereby consents to receiving text messages and email confirmations from Toppings providing status updates and delivery confirmations in connection with each delivery."}),Object(r.jsx)("li",{children:"On an ongoing basis, review and confirm the transactions, fees and charges on invoices and via the Merchant Portal, and promptly communicate to Toppings any inaccuracies."})]})]}),Object(r.jsxs)("li",{children:["Portal Operating Procedures.",Object(r.jsxs)("ol",{type:"i",children:[Object(r.jsx)("li",{children:"Order Placement. Merchant agrees to submit a Portal Order for delivery fulfillment at least twenty-four (24) hours in advance of scheduled delivery, and in no event less than two (2) hours in advance of scheduled pick-up. Exceptions will be mutually agreed to by the Parties."}),Object(r.jsx)("li",{children:"Hours of Operation. The pickup and dropoff of deliveries will be scheduled to take place during Toppings\u2019s standard hours of availability, as may be updated from time to time in Toppings\u2019s sole discretion. Merchant agrees to abide by the following standard procedures: (i) to notify Toppings of any changes to its hours of operations on federal holidays with reasonable advance notice; and (ii) to notify Toppings with reasonable advance notice if a Merchant location closes earlier than standard hours of operation or plans to close earlier than standard hours of operation."}),Object(r.jsx)("li",{children:"Delivery Radii. Toppings will only accept Portal Orders to be delivered within a certain preset delivery radius based on either the Merchant or the End-Customer location, which will be communicated to Merchant."}),Object(r.jsx)("li",{children:"Cancellations. Fees owed for any Portal Orders cancelled within twenty-four (24) hours of a Schedule for Later delivery are non-refundable. If provided more than two (2) hours notice, but less than twenty-four (24) hours notice, Toppings will make reasonable efforts to accommodate changes. "}),Object(r.jsx)("li",{children:"Notification. Merchant agrees to notify all staff members in Merchant Stores of Merchant\u2019s relationship with Toppings prior to submitting any delivery requests to Toppings."})]})]})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Refunds and Re-Orders."})," Refunds and re-orders will be addressed as follows:",Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"Marketplace Order Refunds. In the event that Toppings, in its sole reasonable discretion, has to issue a refund, credit or re-order on an Customer\u2019s Order, Merchant will prepare the food to the same specifications as the original Order (in the case of a re-order) and bear the full cost of that refund, credit or re-order, as applicable, unless the refund, credit or re-order is due to the fault of the Topper or Toppings."}),Object(r.jsx)("li",{children:"Portal Order Refunds. Merchant acknowledges and agrees that Toppings shall be responsible only for facilitating the delivery of Merchant Product(s) to Customers. Merchant shall be solely responsible for any customer complaints regarding Merchant Product(s), including without limitation, complaints regarding the nature, quality, content, number, or packaging of Merchant Product(s). Merchant agrees not to refer any Customer complaints directly to Toppings. Any complaints regarding the timeliness or quality of a Topper\u2019s delivery service shall be reported by Merchant to Toppings. If the completion of a Portal Order is more than 45 minutes late and due to fault of Toppings, Toppings will reimburse Merchant for all or a portion of the delivery cost of the applicable Portal Order. If Merchant elects to refund a Customer for any reason, such election shall not obligate Toppings to provide a corresponding reimbursement to Merchant. In the event that a Merchant Product has been visibly damaged with proof from Customer, Toppings may reimburse Merchant for all or a portion of the order subtotal. For the purposes of this agreement, \u201cMerchant Product\u201d is the actual food or beverage item, not the packaging that contains the Merchant Product. In no event shall Toppings be obligated to issue any refunds directly to Customers."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Order Equipment. "}),"With respect to the Toppings Platform, Merchant will install any equipment reasonably required by Toppings for Merchant to receive and process Orders (including, without limitation, a tablet, fax machine, or other automated, electronic means of receiving Orders) (\u201cOrder Equipment\u201d). If any Order Equipment is provided by Toppings, Merchant will pay Toppings an Order Equipment Fee, as set forth in the Sign-Up Sheet, in exchange for the right to use the Order Equipment to access the Toppings Platform in order to receive, process, and accept Marketplace Orders. Any Order Equipment provided by Toppings will remain Toppings\u2019s sole property and may be used solely for purposes related to fulfilling Merchant\u2019s responsibilities under this Agreement. Merchant will inspect all hardware, and shall notify Toppings in writing if any Order Equipment is missing or was damaged as soon as practicable after discovering such damage. Toppings may restrict or rescind Merchant\u2019s right to use the Toppings Platform at any time. Merchant will be responsible for any damage to or loss of any Order Equipment provided by Toppings (excluding ordinary wear and tear), which will be promptly reimbursed by Merchant (at the replacement cost thereof). Toppings may recover the replacement cost of damaged or lost Order Equipment by deducting such amount from weekly payments. Merchant agrees to pay all subscription fees and deposits reasonably charged by Toppings for Order Equipment, and agrees Toppings may deduct such fees and deposits from amounts payable by Toppings to Merchant."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Payment, Fees, Title and Taxes. "}),"Payment, fees, and taxes shall be addressed as follows:",Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"Toppings Platform. Toppings will pay for Marketplace Orders fulfilled by Merchant each week on a consistent day of the week, subject to change with no less than 10 days\u2019 notice to Merchants by email or service notification. Toppings shall be entitled to deduct from such payments Toppings\u2019s Commission Rate, marketing fees (for identifiable orders), Activation Fees, subscription fees, and any other fees which Toppings may notify you regarding with at least 7 days advance written notice. Merchant shall be responsible for all taxes, duties, and other governmental charges on the sale of Merchant Products and for remitting such taxes, duties, and other governmental charges to the appropriate authorities. In the event that Merchant raises the price for a menu item, Toppings shall not be required to remit the higher price to the Merchant until 3 business days after the Merchant first provides notice to  Toppings of such pricing change."}),Object(r.jsx)("li",{children:"Toppings Portal. Merchant will pay Toppings a fee per Portal Order as mutually agreed. Merchant shall be responsible for all taxes, duties, and other governmental charges on the sale of Merchant Products and for remitting such taxes, duties, and other governmental charges to the appropriate authorities. As agreed by the parties, payment of all fees under this Section 8(b) shall be as follows: (i) Merchant shall pay the fees by credit card or ACH at the time of ordering, or (ii) Toppings shall invoice Merchant on a monthly basis and Merchant shall pay the invoice within seven (7) days of receipt of such invoice. If any fee is not paid in full by the due date, Toppings may assess interest on the unpaid amount for the period beginning on the Payment Date and ending on the date that the amount is paid in full. The amount of interest to be paid shall not exceed the maximum rate under applicable law."}),Object(r.jsx)("li",{children:"To the extent that a third party provider provides services to Merchant via the Platform (for example, a middleware provider) and charges fees to Toppings, Toppings may pass through such third party\u2019s fees to Merchant."}),Object(r.jsx)("li",{children:"In some jurisdictions in the United States, Toppings may be required to collect sales, use, or similar taxes from the Customer and remit such taxes directly to the tax authority. In such jurisdictions, Toppings will inform Merchant that Toppings will remit Collected Taxes to the tax authority and Toppings will be relieved of any responsibility to remit such Collected Taxes to Merchant."}),Object(r.jsx)("li",{children:"Merchant agrees, on an ongoing basis, to review and confirm its transactions, fees and charges on orders and invoices and via the Merchant Portal, and to promptly communicate to Toppings in writing any claimed inaccuracies, so that Toppings has the prompt opportunity to address and resolve any issues and so such issues do not persist, which Toppings and Merchant agree is in the best interests of both parties and their commercial relationship. Merchant agrees to communicate to Toppings any disagreement, non-conformity or any issue with any transaction, fee, charge or order within 60 days of the transaction, fee or order. Merchant shall be deemed to have acquiesced in and ratified, and to have waived any claim or objection regarding, each transaction, fee, charge and order if Merchant does not communicate a written claim or objection to Toppings regarding such transaction, fee, charge or order within such 60-day period."}),Object(r.jsx)("li",{children:"Merchant agrees that Merchant holds title to the goods or products that Merchant provides through the Platform until the goods are picked up from Merchant, and that title passes from the Merchant to the Customer upon pickup at the Merchant\u2019s location. Merchant agrees that neither the Topper nor Toppings holds title to or acquires any ownership interest in any goods or products that Merchant prepares or provides through the Platform."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Payment Processing."})," Payment processing services for Merchants on the Toppings Platform are provided by Stripe and are subject to the Stripe Connected Account Agreement, which includes the Stripe Services Agreement. By agreeing to these Terms, Merchant agrees to be bound by the Stripe Connected Account Agreement and the Stripe Services Agreement, as the same may be modified by Stripe from time to time. As a condition of Toppings enabling payment processing services through Stripe, Merchant agrees to provide Toppings accurate and complete information about Merchant\u2019s representative and its business, and Merchant authorizes Toppings to share it and transaction information related to Merchant\u2019s use of the payment processing services provided by Stripe. Stripe has been audited by a PCI-certified auditor and is certified to PCI Service Provider Level 1."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Merchant Content and Trademark; Photographs of Menu Items."}),Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"During the Marketplace Term Merchant grants to Toppings a royalty-free, non-exclusive, limited, revocable, non-transferable, non-sublicensable right and license to use and display the Merchant Content in the provision of services to Merchant, including listing Merchant as a merchant on the Toppings Platform, referencing Merchant as a Toppings partner, and to promote Toppings\u2019s products and services. As used herein, \u201cMerchant Content\u201d includes, without limitation, menus, photographs (either provided by Merchant or on Merchant\u2019s website), trademarks, logos and other materials provided by Merchant to Toppings."}),Object(r.jsx)("li",{children:"If photographs of Merchant\u2019s menu items are not available or if they do not meet Toppings\u2019s requirements, as reasonably determined by Toppings, then Merchant consents to Toppings (i) engaging a professional photographer to take photographs of Merchant\u2019s menu items (ii) enhancing the quality of Merchant\u2019s existing photographs or (iii) using stock photos of the menu item, and displaying such photographs on the Toppings Platform as representations of Merchant\u2019s menu items; provided that Merchant may contact Toppings support to have such photographs removed from the Merchant\u2019s store listing and, in such event, Toppings will comply in a timely manner."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Confidential Information."}),Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"The term \u201cConfidential Information\u201d shall mean any confidential or proprietary business, technical or financial information or materials of a party (\u201cDisclosing Party\u201d) provided to the other party (\u201cReceiving Party\u201d) in connection with this Agreement, whether orally or in physical form, and shall include the terms of this Agreement. Without limiting the foregoing, Toppings Data is the Confidential Information of Toppings."}),Object(r.jsx)("li",{children:"Confidential Information does not include information that: (i) was rightfully known to the Receiving Party without restriction on use or disclosure prior to such information's being disclosed to the Receiving Party in connection with this Agreement; (ii) was or becomes public domain other than by the fault of the Receiving Party; (iii) was or is received by the Receiving Party on a non-confidential basis from a third party that, to the Receiving Party's knowledge, was not at the time under any obligation to maintain its confidentiality; or (iv) the Receiving Party can demonstrate by documentary records was independently developed by the Receiving Party without access to, use of or reference to any Confidential Information."}),Object(r.jsx)("li",{children:"The Receiving Party shall: (i) not access or use Confidential Information other than as necessary to exercise its rights or perform its obligations in accordance with this Agreement; (ii) except subject to its compliance with Section 11(d), not disclose or permit access to Confidential Information other than to its or any of its employees, officers, directors, consultants, agents, independent contractors, service providers, subcontractors and legal advisors (\u201cRepresentatives\u201d) who need to know such Confidential Information for purposes of the Receiving Party's exercise of its rights or performance of its obligations under and in accordance with this Agreement, and prior to any such disclosure are bound by written confidentiality and restricted use obligations at least as protective of the Confidential Information as the terms set forth in this Section; and (iii) safeguard the Confidential Information from unauthorized use, access or disclosure using at least the degree of care it uses to protect its most/similarly sensitive information and in no event less than a reasonable degree of care."}),Object(r.jsx)("li",{children:"If the Receiving Party is compelled by applicable Law to disclose any Confidential Information then, to the extent permitted by applicable Law, the Receiving Party shall promptly notify the Disclosing Party in writing of such requirement so that the Disclosing Party can seek a protective order or other remedy or waive its rights under Section 11(c) and provide reasonable assistance to the Disclosing Party, at the Disclosing Party's sole expense, in opposing or seeking protective limitations on disclosure."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Data Privacy and Security."}),Object(r.jsxs)("ol",{type:"a",children:[Object(r.jsx)("li",{children:"General. Merchant agrees not to access, collect, store, retain, transfer, use, disclose, or otherwise process in any manner Toppings Data, including without limitation Personal Information, except as required to perform under this Agreement. Merchant shall keep Toppings Data secure from unauthorized access and maintain the accuracy and integrity of Toppings Data in Merchant\u2019s custody or control by using appropriate organizational, physical and technical safeguards. If Merchant becomes aware of any unauthorized access to Toppings Data, Merchant will immediately notify Toppings, consult and cooperate with investigations and potentially required notices, and provide any information reasonably requested by Toppings. Merchant agrees to implement and use security procedures, protocols or access credentials as reasonably requested by Toppings and will be responsible for damages resulting from Merchant\u2019s failure to comply. Merchant will not allow any third party to use the Toppings Platform and will be responsible for damages resulting from sharing Merchant\u2019s login credentials with unauthorized third parties or otherwise permitting unauthorized access to Merchant\u2019s account. Merchants may not allow any third party to copy, modify, rent, lease, sell, distribute, reverse engineer, or otherwise attempt to gain access to the source code of the Toppings Platform; damage, destroy or impede the services provided through the Toppings Platform; transmit injurious code; or bypass or breach any security protection on the Toppings Platform."}),Object(r.jsx)("li",{children:"Delivery API. During the Term, Toppings grants to Merchant a non-exclusive, royalty-free, non-assignable, non-transferable, non-sublicensable, revocable, limited, fully paid-up license to access the Delivery API solely to transmit information to facilitate the Toppings Portal services. Merchant will not and will not permit or authorize any third party to (i) sell, license, rent, resell, lease, assign (except as permitted herein), transfer, or otherwise commercially exploit the Delivery API; (ii) circumvent or disable any security or other technological features or measures of, or otherwise gain or attempt to gain unauthorized access to the Delivery API; (iii) reverse engineer, dissemble, decompile, or otherwise attempt to derive the source code or the underlying ideas, algorithms, structure, or organization of the Delivery API; (iv) use the Delivery API in any manner or for any purpose that violates any law or regulation; and (v) use the Delivery API for a reason other than as specifically provided or intended under this Agreement. Each Party agrees not to perform any action with the intent of introducing to the other Party\u2019s systems, products, or services (including the Delivery API) any viruses, worms, defect, Trojan horses, malware, or any items of a destructive nature."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Termination."})," Merchant may terminate this Agreement for any reason at any time upon seven (7) days prior written notice. Toppings may terminate this Agreement or any promotion under this Agreement for any reason at any time upon written notice. Email shall suffice for written notice. Neither Merchant nor Toppings will be required to pay any fee in connection with a termination by either party, or be liable to the other as a result of termination of this Agreement for any damages, for the loss of goodwill, prospective profits or anticipated income, or for any expenditures, investments, leases or commitments made by either Merchant or Toppings."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Modifications."})," Toppings reserves the right, at its sole discretion, to change, suspend, or discontinue the Platform (including without limitation, the availability of any feature or content) at any time. Toppings may, at its sole discretion, remove Merchant Products or Stores from the Toppings Platform if Toppings determines that such Merchant Product or Merchant Store could subject Toppings to undue regulatory risk, health and safety risk, or other liability. Toppings also may revise these Terms from time to time. The changes will not be retroactive, and the most current version of the terms will be at FIGURE DIS OUT We will notify Merchants of material revisions via a service notification or an email to the email address associated with your account. By continuing to access or use the Services after those revisions become effective, you agree to be bound by the revised Terms."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Representations and Warranties; Additional Responsibilities; Warranty Disclaimer."}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:"Each party represents and warrants that it has the full right, power, and authority to enter into and perform its obligations under this Agreement without breaching any obligation to any third party."}),Object(r.jsx)("li",{children:"Each party represents and warrants that it will comply with all applicable laws and regulations in its performance of this Agreement, including without limitation (i) all applicable data protection and privacy laws, and (ii) all applicable laws related to third party intellectual property and other proprietary rights."}),Object(r.jsx)("li",{children:"Merchant further represents, warrants and agrees that (i) it will comply with all applicable laws, rules, standards and regulations relating to licenses, health (including Proposition 65 in California), food packaging and accessory items (including but not limited to foodware, plasticware, and other disposable restaurant supplies), and food safety and sanitation, (ii) it has informed Toppings of any required consumer-facing warnings, charges, opt-in requirements, and instructions associated with Merchant Product(s) and it will inform Toppings of any such warnings, charges, opt-ins, and instructions that become required in the future, (iii) it will disclose common allergens in any Merchant\u2019s menu items listed on the Toppings Platform, (iv) it will only list menu items or products for sale, product descriptions, and prices on the Toppings Platform,  (v) it will not include any age-restricted products (including but not limited to alcohol and tobacco) in Merchant\u2019s menus on the Toppings Platform or request delivery of any age-restricted products through the Toppings Platform without first entering into a separate agreement with Toppings memorializing the promotion, sale and delivery of such products in compliance with the laws of the applicable state in which such products will be sold, (vi) it will not disclose any information related to a Topper or a Customer to a third party (except as required to comply with law or pursuant to a court order), (vii) it will comply with the guidelines Toppings publishes that govern any content Merchant posts on the Toppings Platform or Merchant Portal, and  (viii) it will comply with its obligations under Section 4(b)(iii) and 4(b)(iv) of this Agreement."}),Object(r.jsx)("li",{children:"EXCEPT AS EXPRESSLY SET FORTH HEREIN, TO THE EXTENT PERMITTED BY APPLICABLE LAW, TOPPINGS HEREBY EXPRESSLY DISCLAIMS ALL WARRANTIES, EXPRESS, IMPLIED OR STATUTORY, REGARDING THE TOPPINGS PLATFORM, THE DELIVERY API, EQUIPMENT OR SERVICES, INCLUDING BUT NOT LIMITED TO ANY IMPLIED WARRANTIES OF MERCHANTABILITY, TITLE, SATISFACTORY QUALITY OR RESULTS, OR FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. Merchant acknowledges that the operation of the Platform may from time to time encounter technical or other problems and may not necessarily continue uninterrupted or without technical or other errors and Toppings shall not be responsible to Merchant or others for any such interruptions, errors, or problems or an outright discontinuance of the Platform nor for any guarantee of results with respect to the Toppings services or Platform. Both Parties acknowledge that neither party has any expectation or has received any assurances for future business or that any investment by a party will be recovered or recouped or that such party will obtain any anticipated amount of profits by virtue of this Agreement."})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Indemnification."})," Each party (the \u201cIndemnifying Party\u201d) will defend, indemnify, and hold harmless the other party, its subsidiaries and affiliates, and their respective officers, directors, shareholders, employees, and agents (the \u201cIndemnified Party\u201d) from and against any and all claims, damages, losses and expenses (including reasonable attorney\u2019s fees) (collectively \u201cLosses\u201d) with respect to any third-party claims arising out of or related to: (i) any bodily injury (including death) or damage to tangible or real property to the extent caused by the Indemnifying Party\u2019s personnel and, in the case of Toppings, Toppers (or, in the case of Merchant as the Indemnifying Party, caused by the Merchant Products); (ii) any claims that the Indemnifying Party breached its representations, warranties or covenants set forth in Section 11 and Section 12, and Section 15 of this Agreement; (iii) the violation of the intellectual property of the third party by the Indemnifying Party\u2019s logos, trademarks, trade names, menus, documentation, or other intellectual property (collectively, \u201cMaterials\u201d); or (iv) in the case of Merchant as the Indemnifying Party, Merchant\u2019s failure to distribute tips as required by applicable law. In addition, Merchant will defend, indemnify and hold harmless Toppings from any and all Losses related to any violation or alleged violation of any applicable retail food or other health and safety code, rule, or regulation related to Merchant Product(s), except to the extent such Losses were caused directly by the gross negligence or willful misconduct of Toppings. In each case the Indemnified Party shall provide the Indemnifying Party with (a) prompt notice of any claims such that the Indemnifying Party is not prejudiced by any delay of such notification, (b) the option to assume sole control over defense and settlement of any claim, and (c) reasonable assistance in connection with such defense and settlement (at the Indemnifying Party\u2019s expense). The Indemnified Party may participate in the defense or settlement of such a claim with counsel of its own choice and at its own expense; however, the Indemnifying Party shall not enter into any settlement agreement that imposes any obligation on the Indemnified Party without the Indemnified Party\u2019s express prior written consent. Toppings assumes no liability, and shall have no liability, for any infringement claim pursuant to section 16(iii) above based on Merchant\u2019s access to and/or use of the Toppings Platform following notice of such an infringement claim; any unauthorized modification of the Toppings Platform by Merchant; or Merchant\u2019s combination of the Toppings Platform with third party programs, services, data, hardware, or other materials which otherwise would not result in such infringement claim."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Limitation of Liability. "}),"EXCEPT WITH RESPECT TO DAMAGES ARISING FROM VIOLATIONS OF LAW OR WILFUL MISCONDUCT, UNPAID AMOUNTS OWED TO TOPPINGS BY MERCHANT IN EXCESS OF THE BELOW LIMIT, AND AMOUNTS PAYABLE TO THIRD PARTIES UNDER SECTION 16 (INDEMNIFICATION), TO THE EXTENT PERMITTED BY APPLICABLE LAW, (I) NEITHER PARTY WILL BE LIABLE TO THE OTHER UNDER THIS AGREEMENT, FOR INDIRECT, SPECIAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES, OR FOR LOST PROFITS, LOST REVENUES, HARM TO GOODWILL, OR THE COSTS FOR PROCURING REPLACEMENT SERVICES, WHETHER BASED ON TORT, CONTRACT OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT SUCH PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND (II) EACH PARTY\u2019S MAXIMUM AGGREGATE LIABILITIES RELATED TO OR IN CONNECTION WITH THIS AGREEMENT SHALL NOT EXCEED THE TOTAL AMOUNT PAID OR PAYABLE BY ONE PARTY TO THE OTHER PARTY IN THE TWELVE (12) MONTH PERIOD IMMEDIATELY PRECEDING THE INCIDENT GIVING RISE TO THE LIABILITY. THE FOREGOING DISCLAIMER SHALL NOT APPLY TO THE EXTENT PROHIBITED BY LAW."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Insurance. "}),"During the term of the Agreement and for one year after, each party will maintain adequate insurance in amounts not less than as required by law or that is common practice in such party\u2019s business. Upon request, each party will provide the other with current evidence of coverage. Such insurance shall not be cancelled or materially reduced without thirty (30) days prior written notice. In no event shall the limits of any insurance policy be considered as limiting the liability of a party under this Agreement."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Dispute Resolution."})," PLEASE READ THE FOLLOWING SECTION CAREFULLY. IT REQUIRES YOU TO ARBITRATE DISPUTES WITH TOPPINGS AND LIMITS THE MANNER IN WHICH YOU CAN SEEK RELIEF. THIS SECTION 19 OF THIS AGREEMENT SHALL BE REFERRED TO AS THE \u201cARBITRATION AGREEMENT\u201d.",Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Scope of Arbitration Agreement."})," Any dispute, controversy or claim arising out of, relating to or in connection with this contract, including the breach, termination or validity thereof, shall be finally resolved by binding arbitration, rather than in court, except that (1) you may assert claims in small claims court if your claims qualify, so long as the matter remains in such court and advances only on an individual (non-class, non-representative) basis; and (2) you or Toppings may seek injunctive relief in court for infringement or other misuse of intellectual property rights (such as trademarks, trade dress, domain names, trade secrets, copyrights, and patents). Toppings and Merchant agree that, because both are business entities that mutually benefit from streamlined and confidential resolution, this Arbitration Agreement shall apply to all disputes arising from or relating to the subject matter of this Agreement or the relationship between the parties and their personnel. In that regard, this Arbitration Agreement shall be binding upon and enforceable by not only the parties, but also their affiliates, and their owners, officers, directors, managers and employees. This Arbitration Agreement shall apply, without limitation, to all claims that arose or were asserted before the Effective Date of this Agreement. CASES HAVE BEEN FILED AGAINST TOPPINGS\u2014AND OTHERS MAY BE FILED IN THE FUTURE\u2014THAT ATTEMPT TO ASSERT CLASS ACTION CLAIMS, AND BY ACCEPTING THIS ARBITRATION AGREEMENT YOU ELECT NOT TO PARTICIPATE IN SUCH CASES. IF YOU AGREE TO ARBITRATION WITH TOPPINGS, YOU ARE AGREEING IN ADVANCE THAT YOU WILL NOT PARTICIPATE IN OR SEEK TO RECOVER MONETARY OR OTHER RELIEF IN ANY SUCH CLASS, COLLECTIVE, AND/OR REPRESENTATIVE LAWSUIT. INSTEAD, BY AGREEING TO ARBITRATION, YOU MAY BRING YOUR CLAIMS AGAINST TOPPINGS IN AN INDIVIDUAL ARBITRATION PROCEEDING. IF SUCCESSFUL ON SUCH CLAIMS, YOU COULD BE AWARDED MONEY OR OTHER RELIEF BY AN ARBITRATOR."]}),Object(r.jsx)("li",{children:Object(r.jsx)("b",{children:"Informal Resolution. You and Toppings agree that good-faith informal efforts to resolve disputes often can result in a prompt, low-cost and mutually beneficial outcome. You and Toppings therefore agree that, before either you or Toppings demands arbitration against the other, we will personally meet and confer, via telephone or videoconference, in a good-faith effort to resolve informally any claim covered by this mutual Arbitration Agreement. If you are represented by counsel, your counsel may participate in the conference, but you shall also fully participate in the conference. The party initiating the claim must give notice to the other party in writing of its, his, or her intent to initiate an informal dispute resolution conference, which shall occur within 60 days after the other party receives such notice, unless an extension is mutually agreed upon by the parties. To notify Toppings that you intend to initiate an informal dispute resolution conference, email Merchant.Informal.Resolution@Toppings.com, providing your name, telephone number associated with your Toppings account (if any), the email address associated with your Toppings account, and a description of your claim. In the interval between the party receiving such notice and the informal dispute resolution conference, the parties shall be free to attempt to resolve the initiating party\u2019s claims. Engaging in an informal dispute resolution conference is a requirement that must be fulfilled before commencing arbitration.  The statute of limitations and any filing fee deadlines shall be tolled while the parties engage in the informal dispute resolution process required by this paragraph."})}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Arbitration Rules and Forum."})," This Arbitration Agreement is governed by the Federal Arbitration Act in all respects. If for whatever reason the rules and procedures of the Federal Arbitration Act cannot apply, the state law governing arbitration agreements in the state in which you reside shall apply. Before a party may begin an arbitration proceeding, that party must send notice of an intent to initiate arbitration and certifying completion of the informal dispute resolution conference pursuant to paragraph 19(2). If this notice is being sent to Toppings, it must be sent by email to the counsel who represented Toppings in the informal dispute resolution process, or if there was no such counsel then by mail to General Counsel, at 5190 Ivy Nole Cumming, GA 30040. The arbitration will be conducted by JAMS under its rules and pursuant to the terms of this Agreement, but in the event of a conflict between the two, the provisions of this Arbitration Agreement shall supersede any and all conflicting arbitration administrator\u2019s rules or procedures. Arbitration demands filed with JAMS must include (1) the name, telephone number, mailing address, and e-mail address of the party seeking arbitration; (2) a statement of the legal claims being asserted and the factual bases of those claims; (3) a description of the remedy sought and an accurate, good-faith calculation of the amount in controversy, enumerated in United States Dollars (any request for injunctive relief or attorneys\u2019 fees shall not count toward the calculation of the amount in controversy unless such injunctive relief seeks the payment of money); and (4) the signature of the party seeking arbitration. Disputes involving claims and counterclaims under $250,000, not inclusive of attorneys\u2019 fees and interest, shall be subject to JAMS\u2019s most current version of the Streamlined Arbitration Rules and procedures available at http://www.jamsadr.com/rules-streamlined-arbitration/; all other claims shall be subject to JAMS\u2019s most current version of the Comprehensive Arbitration Rules and Procedures, available at http://www.jamsadr.com/rules-comprehensive-arbitration/. JAMS\u2019s rules are also available at www.jamsadr.com (under the Rules/Clauses tab) or by calling JAMS at 800-352-5267. Payment of all filing, administration, and arbitration fees will be governed by JAMS\u2019s rules. If JAMS is not available to arbitrate, the parties will select an alternative arbitral forum. You may choose to have the arbitration conducted by telephone, video conference, or in person in the country where you live or at another mutually agreed location."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Arbitrator Powers."})," The arbitrator, and not any federal, state, or local court or agency, shall have exclusive authority to resolve any dispute relating to the interpretation, applicability, enforceability or formation of this Arbitration Agreement including, but not limited to any claim that all or any part of this Arbitration Agreement is void or voidable. All disputes regarding the payment of arbitrator or arbitration-organization fees including the timing of such payments and remedies for nonpayment, shall be determined exclusively by an arbitrator, and not by any court. The arbitration will decide the rights and liabilities, if any, of you and Toppings. The arbitration proceeding will not be consolidated with any other matters or joined with any other proceedings or parties. The arbitrator will have the authority to grant motions dispositive of all or part of any claim or dispute. The arbitrator will have the authority to award monetary damages and to grant any non-monetary remedy or relief available to an individual under applicable law, the arbitral forum\u2019s rules, and this Agreement (including this Arbitration Agreement). The arbitrator will issue a written statement of decision describing the essential findings and conclusions on which any award (or decision not to render an award) is based, including the calculation of any damages awarded. The arbitrator shall follow the applicable law. The arbitrator has the same authority to award relief on an individual basis that a judge in a court of law would have. The arbitrator\u2019s decision is final and binding on you and Toppings."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Waiver of Jury Trial."}),"YOU AND TOPPINGS WAIVE ANY CONSTITUTIONAL AND STATUTORY RIGHTS TO SUE IN COURT AND RECEIVE A JUDGE OR JURY TRIAL. You and Toppings are instead electing to have claims and disputes resolved by arbitration, except as specified in Section 19(1) above. There is no judge or jury in arbitration, and court review of an arbitration award is limited."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Waiver of Class or Consolidated Actions; Severability."})," YOU AND TOPPINGS AGREE TO WAIVE ANY RIGHT TO RESOLVE CLAIMS WITHIN THE SCOPE OF THIS ARBITRATION AGREEMENT ON A CLASS, COLLECTIVE, OR REPRESENTATIVE BASIS. ALL CLAIMS AND DISPUTES WITHIN THE SCOPE OF THIS ARBITRATION AGREEMENT MUST BE ARBITRATED ON AN INDIVIDUAL BASIS AND NOT ON A CLASS BASIS. CLAIMS OF MORE THAN ONE MERCHANT CANNOT BE ARBITRATED OR LITIGATED JOINTLY OR CONSOLIDATED WITH THOSE OF ANY OTHER CUSTOMER OR USER. If, however, this waiver of class or consolidated actions is deemed invalid or unenforceable with respect to a particular claim or dispute, neither you nor Toppings is entitled to arbitration of such claim or dispute. Instead, all such claims and disputes will then be resolved in a court as set forth in Section 20, and all other provisions of this Section 19 (Dispute Resolution) shall remain in force. If any provision of this Section 19 is adjudged to be void or otherwise unenforceable, in whole or in part, the void or unenforceable provision shall be severed and such adjudication shall not affect the validity of the remainder of this Section 19. Nothing in this provision shall prevent you or Toppings from participating in a class-wide settlement of claims."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Opt Out."})," Toppings\u2019s updates to these Terms of Service do not provide a new opportunity to opt out of the Arbitration Agreement if you had previously agreed to a version of Toppings\u2019s Terms of Service and did not validly opt out of arbitration. Toppings will continue to honor the valid opt outs of merchants who validly opted out of the Arbitration Agreement in a prior version of the Terms of Service. If you create a Toppings account for the first time on or after December 9, 2020, you may opt out of this Arbitration Agreement. If you do so, neither you nor Toppings can force the other to arbitrate as a result of this Agreement. To opt out, you must notify Toppings in writing of your intention to opt out by sending a letter, by First Class Mail, to Toppings, Inc., 5190 Ivy Nole Cumming GA 30040. Any attempt to opt out by email will be ineffective. To be effective, your opt-out notice must be postmarked no later than 30 days after your first order on the Platform. Your notice must include your name and address, your Toppings username (if any), the email address you used to set up your Toppings account (if you have one), and a CLEAR statement that you want to opt out of this Arbitration Agreement. The letter may opt out, at most, only one merchant, and letters that purport to opt out multiple merchants will not be effective as to any. No merchant (or his or her agent or representative) may effectuate an opt out on behalf of other persons. If you opt out of this Arbitration Agreement, all other parts of this Agreement will continue to apply to you. Opting out of this Arbitration Agreement has no effect on any other arbitration agreements that you may have entered into with us or may enter into in the future with us."]}),Object(r.jsx)("li",{children:Object(r.jsx)("b",{children:"Survival. This Arbitration Agreement will survive any termination of your relationship with Toppings."})}),Object(r.jsx)("li",{children:Object(r.jsx)("b",{children:"Modification. Notwithstanding any provision in the Agreement to the contrary, we agree that if Toppings makes any future material change to this Arbitration Agreement, it will not apply to any individual claim(s) that you had already provided notice of to the Company."})})]})]}),Object(r.jsx)("li",{children:Object(r.jsx)("b",{children:"Litigation Class Action Waiver. To the extent allowed by applicable law, separate and apart from the Mutual Arbitration Provision found in Section 19, Merchant agrees that any proceeding to litigate in court any dispute arising out of or relating to this Agreement, whether because Merchant opted out of the Arbitration Provision or any other reason, will be conducted solely on an individual basis, and Merchant agrees not to seek to have any controversy, claim or dispute heard as a class action, a representative action, a collective action, a private attorney-general action, or in any proceeding in which Merchant acts or proposes to act in a representative capacity (\u201cLitigation Class Action Waiver\u201d). Merchant further agrees that no proceeding will be joined, consolidated, or combined with another proceeding, without the prior written consent of all parties to any such proceeding. If a court of competent jurisdiction determines that all or part of this Litigation Class Action Waiver is unenforceable, unconscionable, void or voidable, the remainder of this Agreement shall remain in full force and effect."})}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Franchisees."}),"Franchisees operating a branded restaurant or store concept licensed by Merchant may participate in the Program pursuant to the terms and conditions of this Agreement provided that the individual franchisee: (1) is in compliance with its franchise agreement; and (2) enters into an agreement in substantially the same form as the Supplemental Agreement provided by Toppings to the Franchisee. Unless the parties mutually agree otherwise in writing, all Merchant owned branded restaurant(s) and store concept(s) shall be included and subject to the terms hereunder."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Communications from Toppings."})," Merchant agrees to accept and receive communications from Toppings or Toppers, including via email, text message, calls, and push notifications to the cellular telephone number Merchant provides to Toppings. Merchant acknowledges that Merchant may receive communications generated by automatic telephone dialing systems and/or which will deliver prerecorded messages sent by or on behalf of Toppings, its affiliated companies and/or Toppers. Merchant may opt out of such communications in Merchant\u2019s Account Settings or by replying \u201cSTOP\u201d from the mobile device receiving such messages."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Attorneys\u2019 Fees."})," In any legal action to enforce the terms of this Agreement, the prevailing party in such action shall be entitled to recover its reasonable attorneys\u2019 fees and costs from the other party."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"General Provisions."})," As set forth on the Sign-Up Sheet between Merchant and Toppings, the Sign-Up Sheet and these Terms constitute an integrated Agreement between the parties, which supersedes all prior agreements and communications of the parties, oral or written, with respect to the subject matter hereof. The rights and obligations set forth in these Terms, which by their nature should, or by their express terms do, survive or extend beyond the termination or expiration of these Terms shall so survive and extend. This Agreement is governed by and interpreted in accordance with the laws of the State of Delaware without regard to the conflicts of laws principles thereof. Merchant agrees that, except as set forth above in Section 19 (\u201cDispute Resolution\u201d), the parties hereby consent to exclusive jurisdiction in the courts of the Merchant\u2019s location. Merchant may not assign this Agreement in whole or in part without Toppings\u2019s prior written consent. Toppings may freely assign this Agreement. This Agreement is binding upon, and inures to the benefit of, the employees, representatives, agents, affiliates, franchisors, franchisees, and permitted successors and assigns of each party, but shall not confer any rights or remedies upon any third party. All notices, requests, consents and other communications under the Parties' agreements must be in writing, and delivered by overnight courier to the addresses set forth on the Sign-Up Sheet (or any updated address properly noticed hereunder). Toppings\u2019s address is 5190 Ivy Nole, Cumming, GA 30040. If any provision of this Agreement is held to be invalid, illegal or unenforceable for any reason, such invalidity, illegality or unenforceability will not affect any other provisions of this Agreement, and this Agreement will be construed as if such invalid, illegal or unenforceable provision had never been contained here."]})]})]})})]})},ke=t(69),Ue=t(122),De=t(261),Fe=t(440);var Le=function(e){return Object(r.jsxs)("div",{className:"radio-button",children:[Object(r.jsx)("div",{className:e.currentChoice==e.options[0]?"radio-button-option active":"radio-button-option",onClick:function(){return e.setChoice(e.options[0])},children:e.options[0]}),Object(r.jsx)("div",{className:e.currentChoice==e.options[1]?"radio-button-option active":"radio-button-option",onClick:function(){return e.setChoice(e.options[1])},children:e.options[1]})]})},He=t.p+"static/media/portal-menu-plus-button.c31ac20a.svg",Be=t.p+"static/media/portal-menu-x-button.175a158d.svg";var Ye=function(e){var n={name:"Krabby Patty",price:2.99,description:"The signature of the Krusty Krab, a juicy burger with secret ingredients.",options:{items:[]}},t=e.vendor.getVendor.restaurant.sk,a=t.slice(t.lastIndexOf("#")+1);console.log("chop chop",a);var s=Object(i.useRef)(),c=Object(i.useRef)(),l=Object(i.useRef)(),d=Object(i.useRef)(),u=(Object(i.useRef)(),Object(i.useRef)(),Object(i.useState)(!1)),p=Object(o.a)(u,2),h=p[0],m=p[1],b=Object(i.useState)(""),f=Object(o.a)(b,2),j=f[0],g=f[1],O=Object(i.useState)(!1),T=Object(o.a)(O,2),A=T[0],w=T[1],N=Object(i.useState)("Regular"),I=Object(o.a)(N,2),S=I[0],E=I[1],P=Object(i.useState)([]),R=Object(o.a)(P,2),M=R[0],C=R[1],k=Object(i.useState)([]),U=Object(o.a)(k,2),D=U[0],F=U[1],L=Object(i.useState)(n),H=Object(o.a)(L,2),B=H[0],Y=H[1],G=Object(i.useState)([]),q=Object(o.a)(G,2),_=(q[0],q[1]),W=Object(i.useState)([]),V=Object(o.a)(W,2),J=(V[0],V[1]),$=Object(i.useState)([]),Q=Object(o.a)($,2),z=(Q[0],Q[1]),X=Object(i.useState)([]),K=Object(o.a)(X,2),Z=(K[0],K[1],Object(i.useState)([])),ee=Object(o.a)(Z,2),ne=(ee[0],ee[1],Object(i.useState)([])),te=Object(o.a)(ne,2),re=(te[0],te[1],Object(i.useState)(null)),ie=Object(o.a)(re,2),ae=ie[0],se=ie[1],oe=Object(i.useState)(!1),ce=Object(o.a)(oe,2),le=(ce[0],ce[1]),de=Object(i.useState)([]),ue=Object(o.a)(de,2),pe=ue[0],he=ue[1],me=Object(i.useState)([]),be=Object(o.a)(me,2),fe=(be[0],be[1]),je=Object(i.useState)({}),ge=Object(o.a)(je,2),Oe=ge[0],ye=ge[1],ve=Object(i.useState)({}),xe=Object(o.a)(ve,2),Te=xe[0],Ae=xe[1],we=Object(i.useState)({}),Se=Object(o.a)(we,2),Ee=Se[0],Re=Se[1],Me=Object(i.useState)(),Ce=Object(o.a)(Me,2),De=Ce[0],Fe=Ce[1],Ye=Object(Pe.a)(Ne),Ge=Object(o.a)(Ye,2),qe=Ge[0],_e=Ge[1];function We(){m(!0);var t=e.vendor.getVendor.restaurant.menu;Ae(t),console.log(e.vendor.getVendor.restaurant.menu),console.log("menucategories",Te),Array.from(t).forEach((function(e){ye((function(n){return Object(v.a)(Object(v.a)({},n),{},Object(Ue.a)({},e.name,e.menuItems))}))})),console.log("menu items",Oe),console.log("default",n),le(!0),m(!1)}function Ve(){w(!A)}function Je(e){console.log("add category",s.current.value),e.preventDefault();var n=JSON.parse(JSON.stringify(Te));n=[].concat(Object(ke.a)(Te),[{name:s.current.value,menuItems:[],__typename:"MenuCategory"}]),Ae(n),console.log("category clone",n),g("")}function $e(){return($e=Object(x.a)(y.a.mark((function t(r){var i,s,o,u,p;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i=JSON.parse(JSON.stringify(Te)),s=Te.findIndex((function(e){return e===ae})),o=[].concat(Object(ke.a)(ae.menuItems),[{__typename:"MenuItem",name:c.current.value,description:d.current.value,price:100*parseFloat(l.current.value).toFixed(2),foodOptions:[]}]),i[s].menuItems=o,Ae(i),console.log("category list clone",i),u={id:a,input:{menu:JSON.stringify(i)}},t.next=10,qe({variables:u});case 10:p=t.sent,console.log("props",e),console.log("mutation response",p),ye({}),We(),g(""),Y(n);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qe(){return(Qe=Object(x.a)(y.a.mark((function e(t){var r,i,s,o,u,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("sleepy",Ee),delete Ee[void 0],r=Object.keys(Ee).map((function(e){return{__typename:"FoodOptions",name:e,numChoices:Ee[e].numChoices,options:Ee[e].options}})),console.log("idk dude",r),i=JSON.parse(JSON.stringify(Te)),s=Te.findIndex((function(e){return e===ae})),o=Te[s].menuItems.findIndex((function(e){return e===B})),i[s].menuItems[o]={__typeName:"MenuItem",name:c.current.value,description:d.current.value,price:100*parseFloat(l.current.value).toFixed(2),points:null,foodOptions:r},console.log("more specific",i[s].menuItems[o]),console.log("restaurant input",i),u={id:a,input:{menu:JSON.stringify(i)}},e.next=14,qe({variables:u});case 14:p=e.sent,console.log("mutation response",p),ye({}),We(),g(""),Re({}),Y(n);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return(ze=Object(x.a)(y.a.mark((function e(n){var t,r,i,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=JSON.parse(JSON.stringify(Te)),r=Te.findIndex((function(e){return e===ae})),i=(i=Object(ke.a)(ae.menuItems)).filter((function(e){return e!=B})),t[r].menuItems=i,Ae(t),console.log("category list clone",t),s={id:a,input:{menu:JSON.stringify(t)}},console.log("additem",s),e.next=12,qe({variables:s});case 12:e.sent,Re({});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return _e.data,_e.error,_e.loading,Object(i.useEffect)((function(){We()}),[]),console.log("props",e),Object(i.useEffect)((function(){console.log("select item",B)}),[B]),Object(i.useEffect)((function(){console.log("select topping",M)}),[M]),console.log("render",Oe,M),Object(r.jsx)("article",{className:"portal-menu-container",children:h?Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Ie}),Object(r.jsx)("span",{className:"subheading",children:"Loading..."})]})}):Object(r.jsx)("div",{children:"addItem"==j||"editItem"==j?Object(r.jsxs)("div",{className:"portal-menu-item-form-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"orange-heading",children:"New Menu Item"})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("form",{className:"portal-menu-item-form",children:[Object(r.jsx)("div",{className:"portal-menu-item-form-type-section",children:"editItem"==j?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Item Type"}),Object(r.jsx)(Le,{options:["Regular","Customizable"],currentChoice:S,setChoice:E})]}):""}),Object(r.jsxs)("div",{className:"portal-menu-item-form-name-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Item Name"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter Your Item Name",ref:c,defaultValue:"editItem"==j?B.name:""})]}),Object(r.jsxs)("div",{className:"portal-menu-item-form-price-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Item Price ($)"}),Object(r.jsx)("input",{id:"menu-item-price-input",className:"text-input",type:"text",placeholder:"Enter Your Item Price",ref:l,defaultValue:"editItem"==j?(B.price/100).toFixed(2):""})]}),Object(r.jsxs)("div",{className:"portal-menu-item-form-description-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Item Description"}),Object(r.jsx)("textarea",{className:"text-input",type:"text",placeholder:"Enter Your Item Description",ref:d,defaultValue:"editItem"==j?B.description:""})]}),"editItem"==j&&"Customizable"==S?Object(r.jsx)("div",{className:"portal-menu-item-form-toppings-section",children:Object(r.jsx)("div",{className:"portal-menu-item-form-toppings-container",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Topping Categories"}),Object(r.jsxs)("select",{name:"topping-categories",className:"dropdown-input",style:{width:"30%"},id:"topping-category",onChange:function(e){return n=e,console.log("handle select topping"),D!==[]&&(Ee[D.name]=M,console.log("global array change",M)),C(Ee[n.target.value]),he(Ee[n.target.value].options),void F(Ee[n.target.value]);var n},children:[Object(r.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:" Select an Option "}),(B.foodOptions||[]).map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),Object(r.jsx)("button",{className:"red-x",type:"button",onClick:function(){},children:Object(r.jsx)("img",{src:Be})}),Object(r.jsx)("span",{className:"subheading",children:"Toppings Options"}),(pe||[]).map((function(e,n){return Object(r.jsxs)("div",{className:"portal-menu-item-form-toppings-options-input-container",children:[Object(r.jsx)("input",{className:"text-input",style:{width:"30%"},type:"text",placeholder:"Enter Option",onChange:function(e){return function(e,n){var t=JSON.parse(JSON.stringify(M));t.options[n].name=e.target.value,console.log("edit option",t),C(t)}(e,n)},defaultValue:e.name}),Object(r.jsx)("button",{className:"red-x",type:"button",onClick:function(){return function(e){var n=JSON.parse(JSON.stringify(M));console.log("copy",n.options[e].name,n),n.options=n.options.filter((function(t){return t.name!==n.options[e].name})),C(n),he(n.options),console.log("delete option",n)}(n)},children:Object(r.jsx)("img",{src:Be})})]},e.name)})),Object(r.jsxs)("button",{id:"add-category-button",className:"blue-text",type:"button",onClick:function(){var e=JSON.parse(JSON.stringify(M));e.options=[].concat(Object(ke.a)(e.options),[{__typename:"Option",name:"",price:null,points:null}]),C(e),he(e.options),console.log("add option",e)},children:[Object(r.jsx)("span",{children:"+"})," Add New Topping Option"]}),Object(r.jsx)("br",{})]})})}):"","editItem"==j&&"Customizable"==S?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("button",{id:"add-category-button",className:"blue-text",type:"button",onClick:function(){return Ve()},children:[Object(r.jsx)("span",{children:"+"})," Add New Category"]}),Object(r.jsx)("br",{})]}),Object(r.jsx)("div",{children:A?Object(r.jsxs)("div",{className:"portal-category-form-container",children:[Object(r.jsx)("button",{className:"close",onClick:function(){return Ve()},children:"\u2715"}),Object(r.jsx)("span",{className:"subheading",children:"Topping Category Name"}),Object(r.jsxs)("form",{className:"portal-category-form",children:[Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter Category Name",value:De,onChange:function(e){return Fe(e.target.value)}}),Object(r.jsx)("button",{onClick:function(){var e=JSON.parse(JSON.stringify(B));console.log("itemcopy",e),e.foodOptions=[].concat(Object(ke.a)(B.foodOptions),[{name:De,options:[],__typename:"FoodOption"}]),Ee[De]={name:De,options:[],__typename:"FoodOption"},Y(e),fe(e.foodOptions),console.log("add category",e),Ve()},children:"Create Category"})]})]}):""})]}):""]}),Object(r.jsxs)("div",{className:"portal-menu-item-form-submit-section",children:[Object(r.jsx)("div",{children:"editItem"==j?Object(r.jsx)("button",{className:"red-text",onClick:function(e){return ze.apply(this,arguments)},children:"Delete"}):""}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"orange-text",onClick:function(){g(""),_([]),J([]),z([]),Y(n),se([]),Re({}),We()},children:"Cancel"}),Object(r.jsxs)("button",{className:"orange",onClick:"addItem"==j?function(e){return $e.apply(this,arguments)}:function(e){return Qe.apply(this,arguments)},children:["addItem"==j?"Add":"Save"," Menu Item"]})]})]})]})]}):Object.keys(Oe).length>0?Object(r.jsxs)("div",{className:"portal-menu-list-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"orange-heading",children:"Your Menu"})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("div",{className:"portal-menu-list",children:Te.map((function(e){return Object(r.jsxs)("div",{className:"menu-category-container",children:[Object(r.jsxs)("span",{className:"blue-heading",children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsx)("span",{children:Object(r.jsx)("button",{className:"blue-plus",onClick:function(){se(e),Y(n),g("addItem")},children:Object(r.jsx)("img",{src:He})})})]}),e.menuItems.map((function(n){return Object(r.jsxs)("div",{className:B==n?"menu-item-container active":"menu-item-container",onClick:function(){Y(n),se(e)},children:[Object(r.jsx)("span",{className:"subheading",children:n.name}),Object(r.jsxs)("span",{className:"subheading",children:["$",(n.price/100).toFixed(2)]}),Object(r.jsx)("div",{className:"menu-item-description",children:n.description})]},n.name)}))]},e.name)}))}),Object(r.jsx)("div",{className:"portal-menu-view",children:null!=B&&B.name!=n.name?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"orange-heading",children:B.name}),Object(r.jsxs)("span",{className:"blue-heading",children:["$",(B.price/100).toFixed(2)]}),Object(r.jsx)("span",{className:"subheading",children:"Description"}),Object(r.jsx)("div",{className:"menu-item-description",children:B.description}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Toppings"}),(B.foodOptions||[]).map((function(e){return Object(r.jsxs)("div",{className:"menu-item-description",children:[Object(r.jsxs)("b",{children:[e.name,":"]})," ",e.options.map((function(e){return e.name})).join(", ")]},e.name)}))]}),Object(r.jsx)("button",{className:"orange",onClick:function(){!function(){var e={};B.foodOptions.map((function(e){return e.name})).forEach((function(n){e[n]=B.foodOptions.find((function(e){return e.name===n}))})),console.log("toppings",e),fe(B.foodOptions),Re(e)}(),g("editItem"),E(B.foodOptions.length>0?"Customizable":"Regular")},children:"Edit Menu Item"})]}):""}),Object(r.jsx)("div",{className:"portal-menu-view-buttons",children:Object(r.jsx)("button",{className:"orange",onClick:function(){return g("addCategory")},children:"Create Category"})})]}),"addCategory"==j?Object(r.jsxs)("div",{className:"portal-category-form-container",children:[Object(r.jsx)("button",{className:"close",onClick:function(){return g("")},children:"\u2715"}),Object(r.jsx)("span",{className:"subheading",children:"Category Name"}),Object(r.jsxs)("form",{className:"portal-category-form",children:[Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter Category Name",ref:s}),Object(r.jsx)("button",{type:"submit",onClick:Je,children:"Create Category"})]})]}):""]}):Object(r.jsxs)("div",{children:["addCategory"==j?Object(r.jsxs)("div",{className:"portal-category-form-container",children:[Object(r.jsx)("button",{className:"close",onClick:function(){return g("")},children:"\u2715"}),Object(r.jsx)("span",{className:"subheading",children:"Category Name"}),Object(r.jsxs)("form",{className:"portal-category-form",children:[Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter Category Name",ref:s}),Object(r.jsx)("button",{type:"submit",onClick:Je,children:"Create Category"})]})]}):"",Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Ie}),Object(r.jsx)("span",{className:"subheading",children:"You have no items in your menu."}),Object(r.jsxs)("b",{children:["Start adding your menu items by clicking the buttons ",Object(r.jsx)("br",{})," below!"]})]}),Object(r.jsx)("div",{className:"content",children:Object(r.jsx)("button",{onClick:function(){return g("addCategory")},children:"Create Menu Category"})})]})})})};var Ge=function(e){var n=e.vendor.getVendor.restaurant.sk,t=n.slice(n.lastIndexOf("#")+1),a={name:"Jelly Joy",points:5,description:"10% discount on all jelly patties"},s=Object(i.useRef)(),c=Object(i.useRef)(),l=Object(i.useRef)(),d=Object(i.useState)(""),u=Object(o.a)(d,2),p=u[0],h=u[1],m=Object(i.useState)(!1),b=Object(o.a)(m,2),f=b[0],j=b[1],g=Object(i.useState)(a),O=Object(o.a)(g,2),v=O[0],T=O[1],A=Object(i.useState)({Rewards:[]}),w=Object(o.a)(A,2),N=w[0],I=w[1];function S(){return E.apply(this,arguments)}function E(){return(E=Object(x.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,De.a.graphql(Object(Fe.b)(ie,{menuId:t}));case 3:n=e.sent,console.log("resp:",n),r=n.data.getVendorRewards.sort((function(e,n){return e.points>n.points?1:-1})),console.log(r),I({Rewards:r}),j(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(x.a)(y.a.mark((function e(){var n,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={itemName:s.current.value,menuId:t,points:parseInt(c.current.value),date_active_from:null,date_active_to:null,discountAmount:null,discountPercentage:null,description:l.current.value},e.next=3,De.a.graphql(Object(Fe.b)(Te,n));case 3:return r=e.sent,i=r.data.createVendorReward,console.log("newREWARD",i),h(""),console.log("hallo"),e.next=10,S();case 10:T(a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(x.a)(y.a.mark((function n(){var t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={id:v.id,itemName:s.current.value,menuId:e.restaurant.id,points:parseInt(c.current.value),description:l.current.value},n.next=3,De.a.graphql(Object(Fe.b)(Ae,t));case 3:h(""),S(),T(a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function M(){return(M=Object(x.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:v.id},e.next=3,De.a.graphql(Object(Fe.b)(we,n));case 3:h(""),S(),T(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){S()}),[]),Object(r.jsx)("article",{className:"portal-rewards-container",children:f?Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Ie}),Object(r.jsx)("span",{className:"subheading",children:"Loading..."})]})}):Object(r.jsx)("div",{children:"addReward"==p||"editReward"==p?Object(r.jsxs)("div",{className:"portal-rewards-form-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"orange-heading",children:"New Reward"})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("form",{className:"portal-rewards-form",children:[Object(r.jsxs)("div",{className:"portal-rewards-form-name-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Reward Name"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter Your Reward Name",ref:s,defaultValue:"editReward"==p?v.itemName:""})]}),Object(r.jsxs)("div",{className:"portal-rewards-form-points-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Point Value"}),Object(r.jsx)("input",{className:"text-input",type:"number",placeholder:"Enter Your Reward Point Value",ref:c,defaultValue:"editReward"==p?v.points:""})]}),Object(r.jsxs)("div",{className:"portal-rewards-form-description-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Reward Description"}),Object(r.jsx)("textarea",{className:"text-input",type:"text",placeholder:"Enter Your Reward Description",ref:l,defaultValue:"editReward"==p?v.description:""})]})]}),Object(r.jsxs)("div",{className:"portal-rewards-form-submit-section",children:[Object(r.jsx)("div",{children:"editReward"==p?Object(r.jsx)("button",{className:"red-text",onClick:function(){return M.apply(this,arguments)},children:"Delete"}):""}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"orange-text",onClick:function(){return h("")},children:"Cancel"}),Object(r.jsxs)("button",{className:"orange",onClick:"addReward"==p?function(){return P.apply(this,arguments)}:function(){return R.apply(this,arguments)},children:["addReward"==p?"Add":"Save"," Reward"]})]})]})]})]}):N.Rewards.length>0?Object(r.jsxs)("div",{className:"portal-rewards-list-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"orange-heading",children:"Active Rewards"})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("div",{className:"portal-rewards-list",children:Object.keys(N).map((function(e){return Object(r.jsxs)("div",{className:"rewards-category-container",children:[Object(r.jsx)("span",{className:"blue-heading"}),N[e].map((function(e){return Object(r.jsxs)("div",{className:v==e?"reward-container active":"reward-container",onClick:function(){return T(e)},children:[Object(r.jsx)("span",{className:"subheading",children:e.itemName}),Object(r.jsxs)("span",{className:"subheading",children:[e.points," pts"]}),Object(r.jsx)("div",{className:"reward-description",children:e.description})]},e.id)}))]},e.id)}))}),Object(r.jsx)("div",{className:"portal-rewards-view",children:null!=v&&v.name!=a.name?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"orange-heading",children:v.itemName}),Object(r.jsxs)("span",{className:"blue-heading",children:[v.points," points"]}),Object(r.jsx)("span",{className:"subheading",children:"Description"}),Object(r.jsx)("div",{className:"rewards-item-description",children:v.description}),Object(r.jsx)("button",{className:"orange",onClick:function(){return h("editReward")},children:"Edit Reward"})]}):""}),Object(r.jsx)("div",{className:"portal-rewards-view-buttons",children:Object(r.jsx)("button",{className:"orange",onClick:function(){return h("addReward")},children:"Add Reward"})})]})]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{className:"portal-empty-image",src:Se}),Object(r.jsx)("span",{className:"subheading",children:"You have no active rewards."}),Object(r.jsxs)("b",{children:["Get users excited by adding ",Object(r.jsx)("br",{})," reward opportunities!"]})]}),Object(r.jsx)("div",{className:"content",children:Object(r.jsx)("button",{onClick:function(){return h("addReward")},children:"Add Reward"})})]})})})},qe=(t.p,t.p+"static/media/location-icon.40cf1348.svg"),_e=t.p+"static/media/phone-icon.92a2e6cb.svg",We=t.p+"static/media/clock-icon.d3af5bbb.svg";var Ve=function(e){var n={id:null!=e.restaurant.id&&e.restaurant.id.length>0?e.restaurant.id:"-1",name:null!=e.restaurant.name&&e.restaurant.name.length>0?e.restaurant.name:"Your Restaurant Name",description:null!=e.restaurant.description&&e.restaurant.description.length>0?e.restaurant.description:"Your Restaurant Description",tags:[],address:null!=e.restaurant.address&&e.restaurant.address.length>0&&null!=e.restaurant.city&&e.restaurant.city.length>0&&null!=e.restaurant.state&&e.restaurant.state.length>0&&null!=e.restaurant.zip_code&&e.restaurant.zip_code.length>0?"".concat(e.restaurant.address,", ").concat(e.restaurant.city,", ").concat(e.restaurant.state," ").concat(e.restaurant.zip_code):"Your Address, Your City, Your State Your Zip Code",contact:e.restaurant.restaurantOwnerName,phoneNumber:null!=e.restaurant.phoneNumber&&e.restaurant.phoneNumber.length>0?e.restaurant.phoneNumber:"Your Restaurant Phone Number",email:null!=e.restaurant.email&&e.restaurant.email.length>0?e.restaurant.email:"Your Restaurant Email",hours:{Sunday:null!=e.restaurant.sundayHours&&e.restaurant.sundayHours.length>0?[e.restaurant.sundayHours.split("-")[0],e.restaurant.sundayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Monday:null!=e.restaurant.mondayHours&&e.restaurant.mondayHours.length>0?[e.restaurant.mondayHours.split("-")[0],e.restaurant.mondayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Tuesday:null!=e.restaurant.tuesdayHours&&e.restaurant.tuesdayHours.length>0?[e.restaurant.tuesdayHours.split("-")[0],e.restaurant.tuesdayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Wednesday:null!=e.restaurant.wednesdayHours&&e.restaurant.wednesdayHours.length>0?[e.restaurant.wednesdayHours.split("-")[0],e.restaurant.wednesdayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Thursday:null!=e.restaurant.thursdayHours&&e.restaurant.thursdayHours.length>0?[e.restaurant.thursdayHours.split("-")[0],e.restaurant.thursdayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Friday:null!=e.restaurant.fridayHours&&e.restaurant.fridayHours.length>0?[e.restaurant.fridayHours.split("-")[0],e.restaurant.fridayHours.split("-")[1]]:["07:00 AM","12:00 AM"],Saturday:null!=e.restaurant.saturdayHours&&e.restaurant.saturdayHours.length>0?[e.restaurant.saturdayHours.split("-")[0],e.restaurant.saturdayHours.split("-")[1]]:["07:00 AM","12:00 AM"]}},t=Object(i.useRef)(),a=(Object(i.useRef)(),Object(i.useRef)()),s=Object(i.useRef)(),c=Object(i.useRef)(),l=Object(i.useRef)(),d=Object(i.useRef)(),u=(Object(i.useRef)(),Object(i.useState)("")),p=Object(o.a)(u,2),h=p[0],m=p[1],b=Object(i.useState)(n),f=Object(o.a)(b,2),j=f[0],g=(f[1],Object(i.useState)({hours:{Sunday:{startTime:n.hours.Sunday[0].split(" ")[0],startPeriod:n.hours.Sunday[0].split(" ")[1],endTime:n.hours.Sunday[1].split(" ")[0],endPeriod:n.hours.Sunday[1].split(" ")[1]},Monday:{startTime:n.hours.Monday[0].split(" ")[0],startPeriod:n.hours.Monday[0].split(" ")[1],endTime:n.hours.Monday[1].split(" ")[0],endPeriod:n.hours.Monday[1].split(" ")[1]},Tuesday:{startTime:n.hours.Tuesday[0].split(" ")[0],startPeriod:n.hours.Tuesday[0].split(" ")[1],endTime:n.hours.Tuesday[1].split(" ")[0],endPeriod:n.hours.Tuesday[1].split(" ")[1]},Wednesday:{startTime:n.hours.Wednesday[0].split(" ")[0],startPeriod:n.hours.Wednesday[0].split(" ")[1],endTime:n.hours.Wednesday[1].split(" ")[0],endPeriod:n.hours.Wednesday[1].split(" ")[1]},Thursday:{startTime:n.hours.Thursday[0].split(" ")[0],startPeriod:n.hours.Thursday[0].split(" ")[1],endTime:n.hours.Thursday[1].split(" ")[0],endPeriod:n.hours.Thursday[1].split(" ")[1]},Friday:{startTime:n.hours.Friday[0].split(" ")[0],startPeriod:n.hours.Friday[0].split(" ")[1],endTime:n.hours.Friday[1].split(" ")[0],endPeriod:n.hours.Friday[1].split(" ")[1]},Saturday:{startTime:n.hours.Saturday[0].split(" ")[0],startPeriod:n.hours.Saturday[0].split(" ")[1],endTime:n.hours.Saturday[1].split(" ")[0],endPeriod:n.hours.Saturday[1].split(" ")[1]}}})),O=Object(o.a)(g,2),T=O[0],A=O[1];function w(e,n,t,r){var i=T.hours,a=T.hours[n][t];T.hours[n][t]=a.substr(0,r)+e.target.value+a.substr(r+e.target.value.length),A(Object(v.a)(Object(v.a)({},T),{},{vendorFormHours:i})),console.log(T.hours)}function N(e,n,t){var r=T.hours;T.hours[e][n]=t,A(Object(v.a)(Object(v.a)({},T),{},{vendorFormHours:r}))}function I(){return(I=Object(x.a)(y.a.mark((function e(){var n,r,i,o,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.current.value.split(", ")[0],r=s.current.value.split(", ")[1],i=s.current.value.split(", ")[2].slice(0,-6),o=s.current.value.split(", ")[2].slice(-5),"+"!=(d=c.current.value.replaceAll(/-/g,"").replaceAll(/\s/g,"")).charAt(0)&&(d="+"+(10==d.length?"1":"")+d),console.log("UP",j),{id:j.id,input:{name:t.current.value,description:a.current.value,phoneNumber:d,address:n,city:r,state:i,zip_code:o,restaurantOwnerName:l.current.value,sundayHours:T.hours.Sunday.startTime+" "+T.hours.Sunday.startPeriod+"-"+T.hours.Sunday.endTime+" "+T.hours.Sunday.endPeriod,mondayHours:T.hours.Monday.startTime+" "+T.hours.Monday.startPeriod+"-"+T.hours.Monday.endTime+" "+T.hours.Monday.endPeriod,tuesdayHours:T.hours.Tuesday.startTime+" "+T.hours.Tuesday.startPeriod+"-"+T.hours.Tuesday.endTime+" "+T.hours.Tuesday.endPeriod,wednesdayHours:T.hours.Wednesday.startTime+" "+T.hours.Wednesday.startPeriod+"-"+T.hours.Wednesday.endTime+" "+T.hours.Wednesday.endPeriod,thursdayHours:T.hours.Thursday.startTime+" "+T.hours.Thursday.startPeriod+"-"+T.hours.Thursday.endTime+" "+T.hours.Thursday.endPeriod,fridayHours:T.hours.Friday.startTime+" "+T.hours.Friday.startPeriod+"-"+T.hours.Friday.endTime+" "+T.hours.Friday.endPeriod,saturdayHours:T.hours.Saturday.startTime+" "+T.hours.Saturday.startPeriod+"-"+T.hours.Saturday.endTime+" "+T.hours.Saturday.endPeriod}},m("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)("article",{className:"portal-settings-container",children:"edit"==h?Object(r.jsxs)("div",{className:"portal-settings-form-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("span",{className:"orange-heading",children:"Edit Information"})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("form",{className:"portal-vendor-info-form",children:[Object(r.jsxs)("div",{id:"portal-settings-form-name-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Name"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Vendor Name",defaultValue:j.name,ref:t})]}),Object(r.jsxs)("div",{id:"portal-settings-form-description-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Description"}),Object(r.jsx)("textarea",{className:"text-input",type:"text",placeholder:"Vendor Description",defaultValue:j.description,ref:a})]}),Object(r.jsx)("div",{id:"portal-settings-form-tags-section"}),Object(r.jsxs)("div",{id:"portal-settings-form-address-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Address"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Vendor Address",defaultValue:j.address,ref:s})]}),Object(r.jsxs)("div",{id:"portal-settings-form-contact-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Point of Contact"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Vendor Point of Contact",defaultValue:j.contact,ref:l})]}),Object(r.jsxs)("div",{id:"portal-settings-form-phone-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Phone Number"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"123-456-7890",defaultValue:j.phoneNumber,ref:c})]}),Object(r.jsxs)("div",{id:"portal-settings-form-email-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Email Address"}),Object(r.jsx)("input",{className:"text-input",type:"text",placeholder:"Vendor Email",defaultValue:j.email,ref:d,readOnly:!0})]}),Object(r.jsxs)("div",{id:"portal-settings-form-hours-section",children:[Object(r.jsx)("span",{className:"subheading",children:"Hours of Operations"}),Object.keys(j.hours).map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[e,":"]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][0][0],onChange:function(n){return w(n,e,"startTime",0)},maxLength:"1"}),Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][0][1],onChange:function(n){return w(n,e,"startTime",1)},maxLength:"1"}),":",Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][0][3],onChange:function(n){return w(n,e,"startTime",3)},maxLength:"1"}),Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][0][4],onChange:function(n){return w(n,e,"startTime",4)},maxLength:"1"}),Object(r.jsxs)("div",{className:"am-pm-radio",children:[Object(r.jsx)("span",{className:"AM"==T.hours[e].startPeriod?"am-pm-radio-option active":"am-pm-radio-option",onClick:function(){return N(e,"startPeriod","AM")},children:"AM"}),Object(r.jsx)("span",{className:"PM"==T.hours[e].startPeriod?"am-pm-radio-option active":"am-pm-radio-option",onClick:function(){return N(e,"startPeriod","PM")},children:"PM"})]}),Object(r.jsx)("span",{className:"hyphen",children:"-"}),Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][1][0],onChange:function(n){return w(n,e,"endTime",0)},maxLength:"1"}),Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][1][1],onChange:function(n){return w(n,e,"endTime",1)},maxLength:"1"}),":",Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][1][3],onChange:function(n){return w(n,e,"endTime",3)},maxLength:"1"}),Object(r.jsx)("input",{className:"number-input",type:"text",defaultValue:j.hours[e][1][4],onChange:function(n){return w(n,e,"endTime",4)},maxLength:"1"}),Object(r.jsxs)("div",{className:"am-pm-radio",children:[Object(r.jsx)("span",{className:"AM"==T.hours[e].endPeriod?"am-pm-radio-option active":"am-pm-radio-option",onClick:function(){return N(e,"endPeriod","AM")},children:"AM"}),Object(r.jsx)("span",{className:"PM"==T.hours[e].endPeriod?"am-pm-radio-option active":"am-pm-radio-option",onClick:function(){return N(e,"endPeriod","PM")},children:"PM"})]})]})]},e)}))]})]}),Object(r.jsxs)("div",{id:"portal-settings-form-submit-section",children:[Object(r.jsx)("button",{className:"orange-text",onClick:function(){return m("")},children:"Cancel"}),Object(r.jsx)("button",{className:"orange",onClick:function(){return function(){return I.apply(this,arguments)}()},children:"Update Information"})]})]})]}):Object(r.jsxs)("div",{className:"portal-vendor-info-container",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("span",{className:"subheading",children:"Toppings Vendor"}),Object(r.jsx)("span",{className:"orange-heading",children:j.name}),Object(r.jsx)("span",{className:"caption",children:j.description}),j.tags.map((function(e){return Object(r.jsx)("button",{className:"tag",children:e},e)}))]}),Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)("div",{className:"vendor-info-sections-container",children:[Object(r.jsxs)("div",{id:"vendor-location-info-section",className:"vendor-info-section",children:[Object(r.jsx)("img",{src:qe}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Location"}),Object(r.jsx)("span",{children:j.address})]})]}),Object(r.jsxs)("div",{id:"vendor-contact-info-section",className:"vendor-info-section",children:[Object(r.jsx)("img",{src:_e}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Contact"}),Object(r.jsxs)("div",{id:"vendor-contact-info",children:[Object(r.jsx)("span",{children:"Main Point of Contact:"}),Object(r.jsx)("span",{children:j.contact}),Object(r.jsx)("span",{children:"Phone Number"}),Object(r.jsx)("span",{children:j.phoneNumber}),Object(r.jsx)("span",{children:"Email Address"}),Object(r.jsx)("span",{children:j.email})]})]})]}),Object(r.jsxs)("div",{id:"vendor-hours-info-section",className:"vendor-info-section",children:[Object(r.jsx)("img",{src:We}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"subheading",children:"Hours"}),Object(r.jsx)("div",{id:"vendor-hours-info",children:Object.keys(j.hours).map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[e,":"]}),Object(r.jsxs)("span",{children:[parseInt(j.hours[e][0].split(":")[0])+":"+j.hours[e][0].split(":")[1]," - ",parseInt(j.hours[e][1].split(":")[0])+":"+j.hours[e][1].split(":")[1]]})]},e)}))})]})]}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{id:"vendor-info-button-section",children:Object(r.jsx)("button",{className:"orange",onClick:function(){return m("edit")},children:"Edit Information"})})]})})]})})},Je=(t.p,t.p+"static/media/portal-orders-icon.337bc697.svg"),$e=t.p+"static/media/portal-terms-service-icon.d30cdcaa.svg",Qe=t.p+"static/media/portal-menu-icon.9ea934fe.svg",ze=t.p+"static/media/portal-rewards-icon.6fe63e0d.svg",Xe=t.p+"static/media/portal-settings-icon.ee0f252a.svg",Ke=t.p+"static/media/portal-logout-icon.401bf9b0.svg";F.default.configure(B);var Ze=function(e){var n=e.Cognito,t=u(),a=Object(i.useState)(window.location.href.slice(window.location.href.indexOf("/portal/")+"/portal/".length)),s=Object(o.a)(a,2),d=s[0],p=s[1],h=Object(i.useState)(null!=u()),m=Object(o.a)(h,2),b=m[0],f=m[1],O=Object(i.useState)(!1),v=Object(o.a)(O,2),T=v[0];v[1],Object(i.useEffect)((function(){e.toggleShowHeader(!1),console.log("U",e.user)}),[]);var A,w=Object(L.a)(re,{skip:"all@gmail.com"===t.username}),N=w.data,I=w.error,S=w.loading;function E(){return(E=Object(x.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.signOut();case 2:f(!1),g("user"),g("page"),e.toggleShowHeader(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(null===N||void 0===N?void 0:N.getRestaurantByOwner)&&(A=N.getRestaurantByOwner),I&&console.log("\ud83d\udea3"),S?null:I?(console.log("error",I),null):Object(r.jsx)("section",{className:"portal-login-container",children:b?Object(r.jsxs)("article",{className:"portal-container",children:[T?Object(r.jsxs)("nav",{children:[Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("img",{className:"portal-toppings-logo",src:D})}),Object(r.jsxs)("ul",{className:"nav-buttons",children:[Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/portal/orders",onClick:function(){return j("orders")},children:Object(r.jsxs)("span",{className:"orders"==d?"portal-nav-option active":"portal-nav-option",onClick:function(){return p("orders")},children:[Object(r.jsx)("img",{src:Je})," Orders"]})})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/portal/terms-of-service",onClick:function(){return j("terms-of-service")},children:Object(r.jsxs)("span",{className:"terms-of-service"==d?"portal-nav-option active":"portal-nav-option",onClick:function(){return p("terms-of-service")},children:[Object(r.jsx)("img",{src:$e})," Terms of Service"]})})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/portal/menu",onClick:function(){return j("menu")},children:Object(r.jsxs)("span",{className:"menu"==d?"portal-nav-option active":"portal-nav-option",onClick:function(){return p("menu")},children:[Object(r.jsx)("img",{src:Qe})," Your Menu"]})})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/portal/rewards",onClick:function(){return j("rewards")},children:Object(r.jsxs)("span",{className:"rewards"==d?"portal-nav-option active":"portal-nav-option",onClick:function(){return p("rewards")},children:[Object(r.jsx)("img",{src:ze})," Your Active Rewards"]})})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/portal/settings",onClick:function(){return j("settings")},children:Object(r.jsxs)("span",{className:"settings"==d?"portal-nav-option active":"portal-nav-option",onClick:function(){return p("settings")},children:[Object(r.jsx)("img",{src:Xe})," Account Settings"]})})}),Object(r.jsx)("li",{children:Object(r.jsxs)("span",{className:"portal-nav-option",onClick:function(){return E.apply(this,arguments)},children:[Object(r.jsx)("img",{src:Ke})," Log Out"]})})]}),Object(r.jsx)("div",{className:"portal-version-label",children:"Version 2.0.1"})]}):"",Object(r.jsx)("main",{children:Object(r.jsxs)(c.d,{children:[Object(r.jsx)(c.b,{path:"/portal/dashboard",component:function(){return Object(r.jsx)(se,{restaurant:A})}}),Object(r.jsx)(c.b,{path:"/portal/orders",component:function(){return Object(r.jsx)(Me,{restaurant:A})}}),Object(r.jsx)(c.b,{path:"/portal/terms-of-service",component:function(){return Object(r.jsx)(Ce,{restaurant:A})}}),Object(r.jsx)(c.b,{path:"/portal/menu",component:function(){return Object(r.jsx)(Ye,{vendor:A})}}),Object(r.jsx)(c.b,{path:"/portal/rewards",component:function(){return Object(r.jsx)(Ge,{vendor:A})}}),Object(r.jsx)(c.b,{path:"/portal/settings",component:function(){return Object(r.jsx)(Ve,{restaurant:A})}})]})})]}):Object(r.jsx)(c.a,{to:"/portal-auth/sign-in"})})};F.default.configure(B);var en=function(e){var n=e.Cognito,t=Object(i.useRef)(),a=Object(i.useRef)(),s=Object(i.useRef)(),d=Object(i.useRef)(),g=Object(i.useRef)(),O=Object(i.useRef)(),T=Object(i.useState)(""),A=Object(o.a)(T,2),w=A[0],N=A[1],I=Object(i.useState)(""),S=Object(o.a)(I,2),E=S[0],P=S[1],R=Object(i.useState)(!1),M=Object(o.a)(R,2),C=M[0],k=M[1],U=Object(i.useState)(!1),D=Object(o.a)(U,2),F=D[0],L=D[1],H=Object(i.useState)(!1),Y=Object(o.a)(H,2),G=Y[0],q=Y[1],_=Object(i.useState)(!1),W=Object(o.a)(_,2),V=W[0],J=W[1],$=Object(i.useState)(""),Q=Object(o.a)($,2),z=Q[0],X=Q[1],K=Object(i.useState)(""),Z=Object(o.a)(K,2),ee=Z[0],ne=Z[1],te=Object(Pe.a)(ve,{update:function(e,n){var t=n.data.createRestaurantOwner;e.writeQuery({query:re,data:{getRestaurantByOwner:t}})}}),ie=Object(o.a)(te,1)[0];function ae(){return(ae=Object(x.a)(y.a.mark((function e(r){var i,o,c,l,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i=t.current.value,o=a.current.value,c=s.current.value,"+"!==(l=g.current.value.replaceAll(/-/g,"").replaceAll(/\s/g,"")).charAt(0)&&(l="+"+(10===l.length?"1":"")+l),!(i.length>0&&o.length>0&&l.length>=10&&c.length>0)){e.next=25;break}return e.prev=7,e.next=10,n.signUp(o,c,[{Name:"name",Value:i},{Name:"phone_number",Value:l},{Name:"custom:isUser",Value:"0"}]);case 10:d=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),N(e.t0.message);case 16:h(d),k(!0),P("Account created, please enter the confirmation code."),N(""),J(i),X(o),ne(c),e.next=26;break;case 25:N("Account info is incomplete.");case 26:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function se(){return(se=Object(x.a)(y.a.mark((function t(r){var i,a,s,o,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),V,i=O.current.value,a=d.current.value,s=m(),!(i.length>0)){t.next=28;break}return t.next=8,n.confirmRegistration(s.userSub,i);case 8:return o={username:z,password:ee},t.next=11,n.authenticateUser(z,ee);case 11:return b(t.sent),t.next=15,n.getCurrentUserAttributes();case 15:if(c=t.sent,!a){t.next=19;break}return t.next=19,ie({variables:{restaurantId:a,email:z}});case 19:p(l=Object(v.a)(Object(v.a)({},o),{},{cognitoId:c[0].Value})),L(!0),N(""),null==f()&&j("orders"),e.setUser(l),q(!0),t.next=29;break;case 28:N("Account info is incomplete.");case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(x.a)(y.a.mark((function t(r){var i,o,c,l,d,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("dalk"),null!=r&&(console.log("wot"),r.preventDefault()),console.log(B),i=a.current.value,o=s.current.value,console.log("HI"),!(i.length>0&&o.length>0)){t.next=24;break}return c={username:i,password:o},console.log(c),t.next=11,n.authenticateUser(i,o);case 11:return l=t.sent,console.log("auth sign in",l),b(l),t.next=16,n.getCurrentUserAttributes();case 16:d=t.sent,p(u=Object(v.a)(Object(v.a)({},c),{},{cognitoId:d[0].Value})),null==f()&&j("orders"),e.setUser(u),q(!0),t.next=25;break;case 24:N("Login info is incomplete.");case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){e.toggleShowHeader(!0);var n=u(),t=f();null!=n&&null!=t&&(console.log(n),a.current.value=n.username,s.current.value=n.password,oe(null),console.log("user",n))}),[]),Object(r.jsx)("section",{className:"portal-login-container",children:G?Object(r.jsx)(c.a,{to:"/portal/".concat(f())}):Object(r.jsx)("article",{className:"login-container",children:Object(r.jsxs)("div",{className:"login-panel",children:[Object(r.jsx)("h1",{children:"Vendor Portal"}),Object(r.jsxs)(c.d,{children:[Object(r.jsxs)(c.b,{path:"/portal-auth/sign-up",children:[C||F?C&&!F?Object(r.jsxs)("form",{onSubmit:function(e){return se.apply(this,arguments)},children:[""==w&&""!=E?Object(r.jsx)("span",{className:"login-message success",children:E}):"",""!=w?Object(r.jsx)("span",{className:"login-message",children:w}):"",Object(r.jsx)("label",{htmlFor:"restaurantId",children:"Restaurant Id"}),Object(r.jsx)("input",{className:"text-input",type:"text",ref:d}),Object(r.jsx)("label",{htmlFor:"code",children:"Confirmation Code"}),Object(r.jsx)("input",{className:"text-input",type:"text",ref:O}),Object(r.jsx)("input",{className:"submit-button",type:"submit",value:"Submit"})]}):Object(r.jsx)(c.a,{to:"/portal-auth/sign-in"}):Object(r.jsxs)("form",{onSubmit:function(e){return ae.apply(this,arguments)},children:[""!=w?Object(r.jsx)("span",{className:"login-message",children:w}):"",Object(r.jsx)("label",{htmlFor:"name",children:"Name"}),Object(r.jsx)("input",{className:"text-input",type:"text",ref:t}),Object(r.jsx)("label",{htmlFor:"email",children:"Email Addresss"}),Object(r.jsx)("input",{className:"text-input",type:"email",ref:a}),Object(r.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(r.jsx)("input",{className:"text-input",type:"tel",ref:g,defaultValue:""}),Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{className:"text-input",type:"password",ref:s}),Object(r.jsx)("input",{className:"submit-button",type:"submit",value:"Submit"})]}),Object(r.jsxs)("span",{children:["Already have an account? ",Object(r.jsx)(l.b,{to:"/portal-auth/sign-in",children:"Sign In"})]})]}),Object(r.jsxs)(c.b,{path:"/portal-auth/sign-in",children:[Object(r.jsxs)("form",{onSubmit:oe,children:[""==w&&""!=E?Object(r.jsx)("span",{className:"login-message success",children:E}):"",""!=w?Object(r.jsx)("span",{className:"login-message",children:w}):"",Object(r.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(r.jsx)("input",{className:"text-input",ref:a}),Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{className:"text-input",type:"password",ref:s}),Object(r.jsx)("input",{className:"submit-button",type:"submit",value:"Submit"})]}),Object(r.jsxs)("span",{children:["Don't have an account? ",Object(r.jsx)(l.b,{to:"/portal-auth/sign-up",children:"Sign Up"})]})]})]})]})})})};var nn=function(){var e=Object(i.useState)(!0),n=Object(o.a)(e,2),t=n[0],a=n[1],s=Object(i.useState)({}),u=Object(o.a)(s,2),p=u[0],h=u[1],m=new U;return Object(r.jsx)(d.a,{client:E,children:Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)(c.b,{exact:!0,path:"/portal/:selection",render:function(){return Object(r.jsx)(Ze,{toggleShowHeader:a,user:p,setUser:h})}}),Object(r.jsx)(c.b,{exact:!0,path:"/portal-auth/:selection",render:function(){return Object(r.jsx)(en,{toggleShowHeader:a,user:p,setUser:h,Cognito:m})}}),Object(r.jsx)(c.a,{to:"/portal-auth/sign-in"}),t?Object(r.jsx)("header",{className:"primary",children:Object(r.jsxs)("nav",{children:[Object(r.jsx)("span",{className:"heading",children:Object(r.jsx)(l.b,{className:"nav-link",to:"/portal-auth/sign-in",children:Object(r.jsx)("img",{src:D})})}),Object(r.jsx)("ul",{className:"nav-buttons links"})]})}):""]})})};s.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(nn,{})}),document.getElementById("root"))}},[[474,1,2]]]);
//# sourceMappingURL=main.d2742b9f.chunk.js.map